// https://raw.github.com/gree/lwf/master/LICENSE
// https://raw.github.com/gree/lwf/master/coffee/supports/tween.js/LICENSE
"undefined"!=typeof window?global=window:"undefined"!=typeof cc&&(global=cc),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B={}.hasOwnProperty;l=function(a,b){function c(){this.constructor=a}for(var d in b)B.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},w=function(a,b){this.x=null!=a?a:0,this.y=null!=b?b:0},z=function(a,b){this.translateX=null!=a?a:0,this.translateY=null!=b?b:0};var C=function(a,b,c,d,e,f){this.scaleX=a,this.scaleY=b,this.skew0=c,this.skew1=d,this.translateX=e,this.translateY=f,null==this.scaleX&&this.clear()};C.prototype.clear=function(){this.scaleY=this.scaleX=1,this.translateY=this.translateX=this.skew1=this.skew0=0},C.prototype.set=function(a){return this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.skew0=a.skew0,this.skew1=a.skew1,this.translateX=a.translateX,this.translateY=a.translateY,this},C.prototype.setWithComparing=function(a){return this.scaleX!==a.scaleX?(this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.skew0=a.skew0,this.skew1=a.skew1,this.translateX=a.translateX,this.translateY=a.translateY,!0):this.scaleY!==a.scaleY?(this.scaleY=a.scaleY,this.skew0=a.skew0,this.skew1=a.skew1,this.translateX=a.translateX,this.translateY=a.translateY,!0):this.skew0!==a.skew0?(this.skew0=a.skew0,this.skew1=a.skew1,this.translateX=a.translateX,this.translateY=a.translateY,!0):this.skew1!==a.skew1||this.skew1!==a.skew1?(this.skew1=a.skew1,this.translateX=a.translateX,this.translateY=a.translateY,!0):this.translateX!==a.translateX?(this.translateX=a.translateX,this.translateY=a.translateY,!0):this.translateY!==a.translateY?(this.translateY=a.translateY,!0):!1};var D=function(a,b,c,d){this.red=a,this.green=b,this.blue=c,this.alpha=d,null==this.red&&(this.alpha=this.blue=this.green=this.red=0)};D.prototype.set=function(a,b,c,d){"object"==typeof a?(this.red=a.red,this.green=a.green,this.blue=a.blue,this.alpha=a.alpha):(this.red=a,this.green=b,this.blue=c,this.alpha=d)},b=function(a){this.alpha=a};var E=function(a,b,c,d){this.multi=new D(a,b,c,d),null==a&&this.clear()};E.prototype.clear=function(){this.multi.set(1,1,1,1)},E.prototype.set=function(a){return this.multi.set(a.multi),this};var F=function(){};r=function(){},r.HEADER_SIZE=324,r.FORMAT_VERSION_0=18,r.FORMAT_VERSION_1=16,r.FORMAT_VERSION_2=16,r.FORMAT_TYPE=0,r.OPTION_USE_SCRIPT=1,r.OPTION_USE_TEXTUREATLAS=2,r.MATRIX_FLAG=-2147483648,r.COLORTRANSFORM_FLAG=-2147483648,r.TEXTUREFORMAT_NORMAL=0,r.TEXTUREFORMAT_PREMULTIPLIEDALPHA=1,F.Constant=r,F.StringBase=function(a){this.stringId=a},r=function(a,b,c,d,e){this.stringId=a,this.format=b,this.width=c,this.height=d,this.scale=e},r.prototype.setFilename=function(a){this.filename=a.strings[this.stringId]},F.Texture=r,F.TextureReplacement=function(a,b,c,d,e){this.filename=a,this.format=b,this.width=c,this.height=d,this.scale=e},r=function(a,b,c,d,e,f,g,h,i){this.stringId=a,this.textureId=b,this.rotated=c,this.x=d,this.y=e,this.u=f,this.v=g,this.w=h,this.h=i},r.prototype.setFilename=function(a){this.filename=a.strings[this.stringId]},F.TextureFragment=r,F.TextureFragmentReplacement=function(a,b,c,d,e,f,g,h,i){this.filename=a,this.textureId=b,this.rotated=c,this.x=d,this.y=e,this.u=f,this.v=g,this.w=h,this.h=i},F.Bitmap=function(a,b){this.matrixId=a,this.textureFragmentId=b},r=function(a,b,c,d,e,f,g){this.matrixId=a,this.textureFragmentId=b,this.attribute=c,this.u=d,this.v=e,this.w=f,this.h=g};var G=function(){};G.REPEAT_S=1,G.REPEAT_T=2,r.Attribute=G,F.BitmapEx=r,F.Font=function(a,b){this.stringId=a,this.letterspacing=b},r=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){this.maxLength=a,this.fontId=b,this.fontHeight=c,this.align=d,this.leftMargin=e,this.rightMargin=f,this.indent=g,this.leading=h,this.strokeColorId=i,this.strokeWidth=j,this.shadowColorId=k,this.shadowOffsetX=l,this.shadowOffsetY=m,this.shadowBlur=n},G=function(){},G.LEFT=0,G.RIGHT=1,G.CENTER=2,G.ALIGN_MASK=3,G.VERTICAL_BOTTOM=4,G.VERTICAL_MIDDLE=8,G.VERTICAL_MASK=12,r.Align=G,F.TextProperty=r,F.Text=function(a,b,c,d,e,f,g){this.matrixId=a,this.nameStringId=b,this.textPropertyId=c,this.stringId=d,this.colorId=e,this.width=f,this.height=g},F.ParticleData=function(a){this.stringId=a},F.Particle=function(a,b,c){this.matrixId=a,this.colorTransformId=b,this.particleDataId=c};var H=function(a,b,c,d,e){this.width=b,this.height=c,this.matrixId=d,this.colorTransformId=e,H.__super__.constructor.call(this,a)};l(H,F.StringBase),F.ProgramObject=H,r=function(a,b){this.graphicObjectType=a,this.graphicObjectId=b},G=function(){},G.BITMAP=0,G.BITMAPEX=1,G.TEXT=2,G.GRAPHIC_OBJECT_MAX=3,r.Type=G,F.GraphicObject=r,F.Graphic=function(a,b){this.graphicObjectId=a,this.graphicObjects=b},r=function(a,b){this.objectType=a,this.objectId=b},G=function(){},G.BUTTON=0,G.GRAPHIC=1,G.MOVIE=2,G.BITMAP=3,G.BITMAPEX=4,G.TEXT=5,G.PARTICLE=6,G.PROGRAMOBJECT=7,G.ATTACHEDMOVIE=8,G.OBJECT_MAX=9,r.Type=G,F.LObject=r,F.Animation=function(a,b){this.animationOffset=a,this.animationLength=b},r=function(a,b,c){this.condition=a,this.keyCode=b,this.animationId=c},G=function(){},G.ROLLOVER=1,G.ROLLOUT=2,G.PRESS=4,G.RELEASE=8,G.DRAGOUT=16,G.DRAGOVER=32,G.RELEASEOUTSIDE=64,G.KEYPRESS=128,r.Condition=G,F.ButtonCondition=r,F.Button=function(a,b,c,d,e,f){this.width=a,this.height=b,this.matrixId=c,this.colorTransformId=d,this.conditionId=e,this.conditions=f};var I=function(a,b){this.frameNo=b,I.__super__.constructor.call(this,a)};l(I,F.StringBase),F.Label=I;var J=function(a){J.__super__.constructor.apply(this,arguments)};l(J,F.StringBase),F.InstanceName=J;var K=function(a){K.__super__.constructor.apply(this,arguments)};l(K,F.StringBase),F.Event=K,F.String=function(a,b){this.stringOffset=a,this.stringLength=b},F.Place=function(a,b,c,d){this.depth=a,this.objectId=b,this.instanceId=c,this.matrixId=d},F.ControlMoveM=function(a,b){this.placeId=a,this.matrixId=b},F.ControlMoveC=function(a,b){this.placeId=a,this.colorTransformId=b},F.ControlMoveMC=function(a,b,c){this.placeId=a,this.matrixId=b,this.colorTransformId=c},r=function(a,b){this.controlType=a,this.controlId=b},G=function(){},G.MOVE=0,G.MOVEM=1,G.MOVEC=2,G.MOVEMC=3,G.ANIMATION=4,G.CONTROL_MAX=5,r.Type=G,F.Control=r,F.Frame=function(a,b){this.controlOffset=a,this.controls=b},r=function(a,b){this.clipEvent=a,this.animationId=b},G=function(){},G.LOAD=1,G.UNLOAD=2,G.ENTERFRAME=4,r.ClipEvent=G,F.MovieClipEvent=r,F.Movie=function(a,b,c,d,e,f,g){this.depths=a,this.labelOffset=b,this.labels=c,this.frameOffset=d,this.frames=e,this.clipEventId=f,this.clipEvents=g};var L=function(a,b){this.movieId=b,L.__super__.constructor.call(this,a)};l(L,F.StringBase),F.MovieLinkage=L,F.ItemArray=function(a,b){this.offset=a,this.length=b},F.Header=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y){this.id0=a,this.id1=b,this.id2=c,this.id3=d,this.formatVersion0=e,this.formatVersion1=f,this.formatVersion2=g,this.option=h,this.width=i,this.height=j,this.frameRate=k,this.rootMovieId=l,this.nameStringId=m,this.backgroundColor=n,this.stringBytes=o,this.animationBytes=p,this.translate=q,this.matrix=r,this.color=s,this.alphaTransform=t,this.colorTransform=u,this.objectData=v,this.texture=w,this.textureFragment=x,this.bitmap=y,this.bitmapEx=z,this.font=A,this.textProperty=B,this.text=C,this.particleData=D,this.particle=E,this.programObject=F,this.graphicObject=G,this.graphic=H,this.animation=I,this.buttonCondition=J,this.button=K,this.label=L,this.instanceName=M,this.eventData=N,this.place=O,this.controlMoveM=P,this.controlMoveC=Q,this.controlMoveMC=R,this.control=S,this.frame=T,this.movieClipEvent=U,this.movie=V,this.movieLinkage=W,this.stringData=X,this.lwfLength=Y};var M=function(){};M.END=0,M.PLAY=1,M.STOP=2,M.GOTONEXTFRAME=3,M.GOTOPREVFRAME=4,M.GOTOFRAME=5,M.GOTOLABEL=6,M.SETTARGET=7,M.EVENT=8,M.CALL=9,M.INSTANCE_TARGET_ROOT=-1,M.INSTANCE_TARGET_PARENT=-2;var N=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,G,H,I,J){this.header=a,this.translates=b,this.matrices=c,this.colors=d,this.alphaTransforms=e,this.colorTransforms=f,this.objects=g,this.textures=h,this.textureFragments=i,this.bitmaps=j,this.bitmapExs=k,this.fonts=l,this.textProperties=m,this.texts=n,this.particleDatas=o,this.particles=p,this.programObjects=q,this.graphicObjects=r,this.graphics=s,this.animations=t,this.buttonConditions=u,this.buttons=v,this.labels=w,this.instanceNames=x,this.events=y,this.places=z,this.controlMoveMs=A,this.controlMoveCs=B,this.controlMoveMCs=C,this.controls=D,this.frames=E,this.movieClipEvents=G,this.movies=H,this.movieLinkages=I,this.strings=J,null!=this.header.header?(a=this.header,this.header=a.header,this.translates=a.translates,this.matrices=a.matrices,this.colors=a.colors,this.alphaTransforms=a.alphaTransforms,this.colorTransforms=a.colorTransforms,this.objects=a.objects,this.textures=a.textures,this.textureFragments=a.textureFragments,this.bitmaps=a.bitmaps,this.bitmapExs=a.bitmapExs,this.fonts=a.fonts,this.textProperties=a.textProperties,this.texts=a.texts,this.particleDatas=a.particleDatas,this.particles=a.particles,this.programObjects=a.programObjects,this.graphicObjects=a.graphicObjects,this.graphics=a.graphics,this.animations=a.animations,this.buttonConditions=a.buttonConditions,this.buttons=a.buttons,this.labels=a.labels,this.instanceNames=a.instanceNames,this.events=a.events,this.places=a.places,this.controlMoveMs=a.controlMoveMs,this.controlMoveCs=a.controlMoveCs,this.controlMoveMCs=a.controlMoveMCs,this.controls=a.controls,this.frames=a.frames,this.movieClipEvents=a.movieClipEvents,this.movies=a.movies,this.movieLinkages=a.movieLinkages,this.strings=a.strings,this.stringMap=a.stringMap,this.eventMap=a.eventMap,this.instanceNameMap=a.instanceNameMap,this.movieLinkageMap=a.movieLinkageMap,this.movieLinkageNameMap=a.movieLinkageNameMap,this.programObjectMap=a.programObjectMap,this.labelMap=a.labelMap,this.useScript=a.useScript,this.useTextureAtlas=a.useTextureAtlas):(this.stringMap={},this.eventMap={},this.instanceNameMap={},this.movieLinkageMap={},this.movieLinkageNameMap={},this.programObjectMap={},this.labelMap=[],null!=this.header?(this.useScript=0!==(this.header.option&F.Constant.OPTION_USE_SCRIPT),this.useTextureAtlas=0!==(this.header.option&F.Constant.OPTION_USE_TEXTUREATLAS)):this.useTextureAtlas=this.useScript=!1)};N.prototype.check=function(){return null!=this.header&&"L"===this.header.id0&&"W"===this.header.id1&&"F"===this.header.id2&&this.header.formatVersion0===F.Constant.FORMAT_VERSION_0&&this.header.formatVersion1===F.Constant.FORMAT_VERSION_1&&this.header.formatVersion2===F.Constant.FORMAT_VERSION_2?!0:!1},N.prototype.name=function(){return this.strings[this.header.nameStringId]},N.prototype.replaceTexture=function(a,b){return 0>a||a>=textures.length?!1:(textures[a]=b,!0)},N.prototype.replaceTextureFragment=function(a,b){return 0>a||a>=textureFragments.length?!1:(textureFragments[a]=b,!0)};var O=function(){};O.prototype.readByte=function(){return this.d.charCodeAt(this.index++)&255},O.prototype.readChar=function(){return String.fromCharCode(this.readByte())},O.prototype.readBytes=function(a){var b;return b=this.d.substr(this.index,a),this.index+=a,b},O.prototype.readInt32=function(){return(this.readByte()<<0)+(this.readByte()<<8)+(this.readByte()<<16)+(this.readByte()<<24)},O.prototype.readSingle=function(){var a,b,c,d,e;return d=this.readByte(),c=this.readByte(),b=this.readByte(),a=this.readByte(),e=(a<<1&255|b>>7)-127,b=(b&127)<<16|c<<8|d,0===b&&-127===e?0:(1-2*(a>>7))*(1+b*Math.pow(2,-23))*Math.pow(2,e)},O.prototype.loadTranslate=function(){return new z(this.readSingle(),this.readSingle())},O.prototype.loadMatrix=function(){return new C(this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle())},O.prototype.loadColor=function(){return new D(this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle())},O.prototype.loadAlphaTransform=function(){return new b(this.readSingle())},O.prototype.loadColorTransform=function(){return new E(this.loadColor(),this.loadColor())},O.prototype.loadTexture=function(){return new F.Texture(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readSingle())},O.prototype.loadTextureFragment=function(){return new F.TextureFragment(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadBitmap=function(){return new F.Bitmap(this.readInt32(),this.readInt32())},O.prototype.loadBitmapEx=function(){return new F.BitmapEx(this.readInt32(),this.readInt32(),this.readInt32(),this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle())},O.prototype.loadFont=function(){return new F.Font(this.readInt32(),this.readInt32())},O.prototype.loadTextProperty=function(){return new F.TextProperty(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadText=function(){return new F.Text(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadParticleData=function(){return new F.ParticleData(this.readInt32())},O.prototype.loadParticle=function(){return new F.Particle(this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadProgramObject=function(){return new F.ProgramObject(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadGraphicObject=function(){return new F.GraphicObject(this.readInt32(),this.readInt32())},O.prototype.loadGraphic=function(){return new F.Graphic(this.readInt32(),this.readInt32())},O.prototype.loadObject=function(){return new F.LObject(this.readInt32(),this.readInt32())},O.prototype.loadAnimation=function(){return new F.Animation(this.readInt32(),this.readInt32())},O.prototype.loadButtonCondition=function(){return new F.ButtonCondition(this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadButton=function(){return new F.Button(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadLabel=function(){return new F.Label(this.readInt32(),this.readInt32())},O.prototype.loadInstanceName=function(){return new F.InstanceName(this.readInt32())},O.prototype.loadEvent=function(){return new F.Event(this.readInt32())},O.prototype.loadString=function(){return new F.String(this.readInt32(),this.readInt32())},O.prototype.loadPlace=function(){return new F.Place(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadControlMoveM=function(){return new F.ControlMoveM(this.readInt32(),this.readInt32())},O.prototype.loadControlMoveC=function(){return new F.ControlMoveC(this.readInt32(),this.readInt32())},O.prototype.loadControlMoveMC=function(){return new F.ControlMoveMC(this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadControl=function(){return new F.Control(this.readInt32(),this.readInt32())},O.prototype.loadFrame=function(){return new F.Frame(this.readInt32(),this.readInt32())},O.prototype.loadMovieClipEvent=function(){return new F.MovieClipEvent(this.readInt32(),this.readInt32())},O.prototype.loadMovie=function(){return new F.Movie(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},O.prototype.loadMovieLinkage=function(){return new F.MovieLinkage(this.readInt32(),this.readInt32())},O.prototype.loadItemArray=function(){return new F.ItemArray(this.readInt32(),this.readInt32())},O.prototype.loadHeader=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z;return y=this.readChar(),z=this.readChar(),A=this.readChar(),B=this.readChar(),q=this.readByte(),r=this.readByte(),s=this.readByte(),M=this.readByte(),Z=this.readInt32(),x=this.readInt32(),u=this.readInt32(),R=this.readInt32(),K=this.readInt32(),d=this.readInt32(),S=this.loadItemArray(),c=this.loadItemArray(),Y=this.loadItemArray(),G=this.loadItemArray(),i=this.loadItemArray(),a=this.loadItemArray(),j=this.loadItemArray(),L=this.loadItemArray(),W=this.loadItemArray(),X=this.loadItemArray(),e=this.loadItemArray(),f=this.loadItemArray(),p=this.loadItemArray(),V=this.loadItemArray(),U=this.loadItemArray(),O=this.loadItemArray(),N=this.loadItemArray(),Q=this.loadItemArray(),w=this.loadItemArray(),v=this.loadItemArray(),b=this.loadItemArray(),h=this.loadItemArray(),g=this.loadItemArray(),D=this.loadItemArray(),C=this.loadItemArray(),o=this.loadItemArray(),P=this.loadItemArray(),m=this.loadItemArray(),l=this.loadItemArray(),n=this.loadItemArray(),k=this.loadItemArray(),t=this.loadItemArray(),I=this.loadItemArray(),H=this.loadItemArray(),J=this.loadItemArray(),T=this.loadItemArray(),E=this.readInt32(),new F.Header(y,z,A,B,q,r,s,M,Z,x,u,R,K,d,S,c,Y,G,i,a,j,L,W,X,e,f,p,V,U,O,N,Q,w,v,b,h,g,D,C,o,P,m,l,n,k,t,I,H,J,T,E)},O.prototype.load=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,O,P,Q,R,S,T,U,V,W,X,Y;this.d=a,this.index=0,j=this.loadHeader(),h=new N(j);if(!h.check())return null;w=this.readBytes(j.stringBytes.length),c=this.readBytes(j.animationBytes.length);var Z,$,_;_=[],k=Z=0;for($=j.translate.length;0>$?Z>$:Z<$;k=0>$?--Z:++Z)_.push(this.loadTranslate());h.translates=_;var ab,bb,cb;cb=[],k=ab=0;for(bb=j.matrix.length;0>bb?ab>bb:ab<bb;k=0>bb?--ab:++ab)cb.push(this.loadMatrix());h.matrices=cb;var db,eb,fb;fb=[],k=db=0;for(eb=j.color.length;0>eb?db>eb:db<eb;k=0>eb?--db:++db)fb.push(this.loadColor());h.colors=fb;var gb,hb,ib;ib=[],k=gb=0;for(hb=j.alphaTransform.length;0>hb?gb>hb:gb<hb;k=0>hb?--gb:++gb)ib.push(this.loadAlphaTransform());h.alphaTransforms=ib;var jb,kb,lb;lb=[],k=jb=0;for(kb=j.colorTransform.length;0>kb?jb>kb:jb<kb;k=0>kb?--jb:++jb)lb.push(this.loadColorTransform());h.colorTransforms=lb;var mb,nb,ob;ob=[],k=mb=0;for(nb=j.objectData.length;0>nb?mb>nb:mb<nb;k=0>nb?--mb:++mb)ob.push(this.loadObject());h.objects=ob;var pb,qb,rb;rb=[],k=pb=0;for(qb=j.texture.length;0>qb?pb>qb:pb<qb;k=0>qb?--pb:++pb)rb.push(this.loadTexture());h.textures=rb;var sb,tb,ub;ub=[],k=sb=0;for(tb=j.textureFragment.length;0>tb?sb>tb:sb<tb;k=0>tb?--sb:++sb)ub.push(this.loadTextureFragment());h.textureFragments=ub;var vb,wb,xb;xb=[],k=vb=0;for(wb=j.bitmap.length;0>wb?vb>wb:vb<wb;k=0>wb?--vb:++vb)xb.push(this.loadBitmap());h.bitmaps=xb;var yb,zb,Ab;Ab=[],k=yb=0;for(zb=j.bitmapEx.length;0>zb?yb>zb:yb<zb;k=0>zb?--yb:++yb)Ab.push(this.loadBitmapEx());h.bitmapExs=Ab;var Bb,Cb,Db;Db=[],k=Bb=0;for(Cb=j.font.length;0>Cb?Bb>Cb:Bb<Cb;k=0>Cb?--Bb:++Bb)Db.push(this.loadFont());h.fonts=Db;var Eb,Fb,Gb;Gb=[],k=Eb=0;for(Fb=j.textProperty.length;0>Fb?Eb>Fb:Eb<Fb;k=0>Fb?--Eb:++Eb)Gb.push(this.loadTextProperty());h.textProperties=Gb;var Hb,Ib,Jb;Jb=[],k=Hb=0;for(Ib=j.text.length;0>Ib?Hb>Ib:Hb<Ib;k=0>Ib?--Hb:++Hb)Jb.push(this.loadText());h.texts=Jb;var Kb,Lb,Mb;Mb=[],k=Kb=0;for(Lb=j.particleData.length;0>Lb?Kb>Lb:Kb<Lb;k=0>Lb?--Kb:++Kb)Mb.push(this.loadParticleData());h.particleDatas=Mb;var Nb,Ob,Pb;Pb=[],k=Nb=0;for(Ob=j.particle.length;0>Ob?Nb>Ob:Nb<Ob;k=0>Ob?--Nb:++Nb)Pb.push(this.loadParticle());h.particles=Pb;var Qb,Rb,Sb;Sb=[],k=Qb=0;for(Rb=j.programObject.length;0>Rb?Qb>Rb:Qb<Rb;k=0>Rb?--Qb:++Qb)Sb.push(this.loadProgramObject());h.programObjects=Sb;var Tb,Ub,Vb;Vb=[],k=Tb=0;for(Ub=j.graphicObject.length;0>Ub?Tb>Ub:Tb<Ub;k=0>Ub?--Tb:++Tb)Vb.push(this.loadGraphicObject());h.graphicObjects=Vb;var Wb,Xb,Yb;Yb=[],k=Wb=0;for(Xb=j.graphic.length;0>Xb?Wb>Xb:Wb<Xb;k=0>Xb?--Wb:++Wb)Yb.push(this.loadGraphic());h.graphics=Yb;var Zb,$b,_b;_b=[],k=Zb=0;for($b=j.animation.length;0>$b?Zb>$b:Zb<$b;k=0>$b?--Zb:++Zb)_b.push(this.loadAnimation());var ac,bc,cc;cc=[],k=ac=0;for(bc=j.buttonCondition.length;0>bc?ac>bc:ac<bc;k=0>bc?--ac:++ac)cc.push(this.loadButtonCondition());h.buttonConditions=cc;var dc,ec,fc;fc=[],k=dc=0;for(ec=j.button.length;0>ec?dc>ec:dc<ec;k=0>ec?--dc:++dc)fc.push(this.loadButton());h.buttons=fc;var gc,hc,ic;ic=[],k=gc=0;for(hc=j.label.length;0>hc?gc>hc:gc<hc;k=0>hc?--gc:++gc)ic.push(this.loadLabel());h.labels=ic;var jc,kc,lc;lc=[],k=jc=0;for(kc=j.instanceName.length;0>kc?jc>kc:jc<kc;k=0>kc?--jc:++jc)lc.push(this.loadInstanceName());h.instanceNames=lc;var mc,nc,oc;oc=[],k=mc=0;for(nc=j.eventData.length;0>nc?mc>nc:mc<nc;k=0>nc?--mc:++mc)oc.push(this.loadEvent());h.events=oc;var pc,qc,rc;rc=[],k=pc=0;for(qc=j.place.length;0>qc?pc>qc:pc<qc;k=0>qc?--pc:++pc)rc.push(this.loadPlace());h.places=rc;var sc,tc,uc;uc=[],k=sc=0;for(tc=j.controlMoveM.length;0>tc?sc>tc:sc<tc;k=0>tc?--sc:++sc)uc.push(this.loadControlMoveM());h.controlMoveMs=uc;var vc,wc,xc;xc=[],k=vc=0;for(wc=j.controlMoveC.length;0>wc?vc>wc:vc<wc;k=0>wc?--vc:++vc)xc.push(this.loadControlMoveC());h.controlMoveCs=xc;var yc,zc,Ac;Ac=[],k=yc=0;for(zc=j.controlMoveMC.length;0>zc?yc>zc:yc<zc;k=0>zc?--yc:++yc)Ac.push(this.loadControlMoveMC());h.controlMoveMCs=Ac;var Bc,Cc,Dc;Dc=[],k=Bc=0;for(Cc=j.control.length;0>Cc?Bc>Cc:Bc<Cc;k=0>Cc?--Bc:++Bc)Dc.push(this.loadControl());h.controls=Dc;var Ec,Fc,Gc;Gc=[],k=Ec=0;for(Fc=j.frame.length;0>Fc?Ec>Fc:Ec<Fc;k=0>Fc?--Ec:++Ec)Gc.push(this.loadFrame());h.frames=Gc;var Hc,Ic,Jc;Jc=[],k=Hc=0;for(Ic=j.movieClipEvent.length;0>Ic?Hc>Ic:Hc<Ic;k=0>Ic?--Hc:++Hc)Jc.push(this.loadMovieClipEvent());h.movieClipEvents=Jc;var Kc,Lc,Mc;Mc=[],k=Kc=0;for(Lc=j.movie.length;0>Lc?Kc>Lc:Kc<Lc;k=0>Lc?--Kc:++Kc)Mc.push(this.loadMovie());h.movies=Mc;var Nc,Oc,Pc;Pc=[],k=Nc=0;for(Oc=j.movieLinkage.length;0>Oc?Nc>Oc:Nc<Oc;k=0>Oc?--Nc:++Nc)Pc.push(this.loadMovieLinkage());h.movieLinkages=Pc;var Qc,Rc,Sc;Sc=[],k=Qc=0;for(Rc=j.stringData.length;0>Rc?Qc>Rc:Qc<Rc;k=0>Rc?--Qc:++Qc)Sc.push(this.loadString());h.animations=[],z=0;for(D=_b.length;z<D;z++)b=_b[z],s=b.animationOffset,h.animations.push(this.readAnimation(c.slice(s,s+b.animationLength)));h.strings=[],x=h.stringMap,A=0;for(E=Sc.length;A<E;A++){b=Sc[A],s=b.stringOffset,u=w.slice(s,s+b.stringLength),v="";for(k=0;k<u.length;)d=u.charCodeAt(k),128>d?(v+=String.fromCharCode(d),++k):191<d&&224>d?(e=u.charCodeAt(k+1),v+=String.fromCharCode((d&31)<<6|e&63),k+=2):(e=u.charCodeAt(k+1),f=u.charCodeAt(k+2),g=(d&15)<<12|(e&63)<<6|f&63,v+=String.fromCharCode(g),k+=3);x[v]=h.strings.length,h.strings.push(v)}l=h.instanceNameMap,k=B=0;for(Q=h.instanceNames.length;0>Q?B>Q:B<Q;k=0>Q?--B:++B)l[h.instanceNames[k].stringId]=k;i=h.eventMap,k=C=0;for(R=h.events.length;0>R?C>R:C<R;k=0>R?--C:++C)i[h.events[k].stringId]=k;q=h.movieLinkageMap,k=J=0;for(S=h.movieLinkages.length;0>S?J>S:J<S;k=0>S?--J:++J)q[h.movieLinkages[k].stringId]=k;r=h.movieLinkageNameMap,k=K=0;for(T=h.movieLinkages.length;0>T?K>T:K<T;k=0>T?--K:++K)r[h.movieLinkages[k].movieId]=h.movieLinkages[k].stringId;t=h.programObjectMap,U=h.programObjects;for(k in U)s=U[k],t[s.stringId]=k;n=h.labelMap,V=h.movies,L=0;for(F=V.length;L<F;L++){o=V[L],s=o.labelOffset,p={},W=h.labels.slice(s,s+o.labels),M=0;for(G=W.length;M<G;M++)m=W[M],p[m.stringId]=m.frameNo;n.push(p)}X=h.textures,O=0;for(H=X.length;O<H;O++)y=X[O],y.setFilename(h);Y=h.textureFragments,P=0;for(I=Y.length;P<I;P++)y=Y[P],y.setFilename(h);return h},O.prototype.readByteFromBytes=function(a,b){var c;return c=a.charCodeAt(b++)&255,[b,c]},O.prototype.readInt32FromBytes=function(a,b){var c,d,e,f;return c=this.readByteFromBytes(a,b),b=c[0],c=c[1],d=this.readByteFromBytes(a,b),b=d[0],d=d[1],e=this.readByteFromBytes(a,b),b=e[0],e=e[1],f=this.readByteFromBytes(a,b),b=f[0],[b,(c<<0)+(d<<8)+(e<<16)+(f[1]<<24)]},O.prototype.readAnimation=function(a){var b,c,d,e,f;b=[];for(d=0;;)switch(c=this.readByteFromBytes(a,d),d=c[0],c=c[1],b.push(c),c){case M.GOTOFRAME:case M.GOTOLABEL:case M.EVENT:case M.CALL:c=this.readInt32FromBytes(a,d),d=c[0],c=c[1],b.push(c);break;case M.SETTARGET:c=this.readInt32FromBytes(a,d),d=c[0],c=c[1],b.push(c);for(f=0;0>c?f>c:f<c;0>c?--f:++f)e=this.readInt32FromBytes(a,d),d=e[0],e=e[1],b.push(e);break;case M.END:return b}};var P=function(){this.int32Array=new Int32Array,this.float32Array=new Float32Array};l(P,O),P.prototype.readByte=function(){return this.d[this.index++]},P.prototype.readBytes=function(a){var b,c;b="";for(c=0;0>a?c>a:c<a;0>a?--c:++c)b+=String.fromCharCode(this.d[this.index++]);return b},P.prototype.readInt32=function(){var a;return a=this.dInt32[this.index/4],this.index+=4,a},P.prototype.readSingle=function(){var a;return a=this.dFloat32[this.index/4],this.index+=4,a},P.prototype.load=function(a){return this.d=new Uint8Array(a),this.dInt32=new Int32Array(a),this.dFloat32=new Float32Array(a),P.__super__.load.call(this,this.d)};var Q=function(){};Q.load=function(a){var b;if(null!=a&&"string"==typeof a)return b=new O,b.load(a)},Q.loadArrayBuffer=function(a){var b;if(null!=a)return b=new P,b.load(a)},p=F.Constant;var R=function(){};R.calcMatrixToPoint=function(a,b,c){return[c.scaleX*a+c.skew0*b+c.translateX,c.skew1*a+c.scaleY*b+c.translateY]},R.getMatrixDeterminant=function(a){return 0>a.scaleX*a.scaleY-a.skew0*a.skew1},R.getMatrix=function(a){var b,c,d,e;c=a.matrixId,0===(c&p.MATRIX_FLAG)?(b=a.lwf.data.translates[c],e=c=1,d=0,b={scaleX:c,scaleY:e,skew0:0,skew1:0,translateX:b.translateX,translateY:b.translateY}):(c&=~p.MATRIX_FLAG,b=a.lwf.data.matrices[c],d=this.getMatrixDeterminant(b),c=Math.sqrt(b.scaleX*b.scaleX+b.skew1*b.skew1),d&&(c=-c),e=Math.sqrt(b.scaleY*b.scaleY+b.skew0*b.skew0),d=d?Math.atan2(b.skew1,-b.scaleX):Math.atan2(b.skew1,b.scaleX),d=180*(d/Math.PI)),a.property.setMatrix(b,c,e,d)},R.getColorTransform=function(a){var b;b=a.colorTransformId,0===(b&p.COLORTRANSFORM_FLAG)?(b=a.lwf.data.alphaTransforms[b],b={multi:{red:1,green:1,blue:1,alpha:b.alpha}}):(b&=~p.COLORTRANSFORM_FLAG,b=a.lwf.data.colorTransforms[b]),a.property.setColorTransform(b)},R.calcMatrixId=function(a,b,c,d){0===d?b.set(c):0===(d&p.MATRIX_FLAG)?(a=a.data.translates[d],b.scaleX=c.scaleX,b.skew0=c.skew0,b.translateX=c.scaleX*a.translateX+c.skew0*a.translateY+c.translateX,b.skew1=c.skew1,b.scaleY=c.scaleY,b.translateY=c.skew1*a.translateX+c.scaleY*a.translateY+c.translateY):(d&=~p.MATRIX_FLAG,a=a.data.matrices[d],this.calcMatrix(b,c,a))},R.calcMatrix=function(a,b,c){a.scaleX=b.scaleX*c.scaleX+b.skew0*c.skew1,a.skew0=b.scaleX*c.skew0+b.skew0*c.scaleY,a.translateX=b.scaleX*c.translateX+b.skew0*c.translateY+b.translateX,a.skew1=b.skew1*c.scaleX+b.scaleY*c.skew1,a.scaleY=b.skew1*c.skew0+b.scaleY*c.scaleY,a.translateY=b.skew1*c.translateX+b.scaleY*c.translateY+b.translateY},R.rotateMatrix=function(a,b,c,d,e){return d*=c,e*=c,a.scaleX=-b.skew0*c,a.skew0=b.scaleX*c,a.translateX=b.scaleX*d+b.skew0*e+b.translateX,a.skew1=-b.scaleY*c,a.scaleY=b.skew1*c,a.translateY=b.skew1*d+b.scaleY*e+b.translateY,a},R.scaleMatrix=function(a,b,c,d,e){return d*=c,e*=c,a.scaleX=b.scaleX*c,a.skew0=b.skew0*c,a.translateX=b.scaleX*d+b.skew0*e+b.translateX,a.skew1=b.skew1*c,a.scaleY=b.scaleY*c,a.translateY=b.skew1*d+b.scaleY*e+b.translateY,a},R.fitForHeight=function(a,b,c){c/=a.height,a.scaleByStage=c,a.property.scale(c,c),a.property.move((b-a.width*c)/2,0)},R.fitForWidth=function(a,b,c){b/=a.width,a.scaleByStage=b,a.property.scale(b,b),a.property.move(0,(c-a.height*b)/2,0)},R.scaleForHeight=function(a,b){var c;c=b/a.height,a.scaleByStage=c,a.property.scale(c,c)},R.scaleForWidth=function(a,b){var c;c=b/a.width,a.scaleByStage=c,a.property.scale(c,c)},R.copyMatrix=function(a,b){b?a.set(b):a.clear()},R.invertMatrix=function(a,b){var c;c=b.scaleX*b.scaleY-b.skew0*b.skew1,0!==c?(a.scaleX=b.scaleY/c,a.skew0=-b.skew0/c,a.translateX=(b.skew0*b.translateY-b.translateX*b.scaleY)/c,a.skew1=-b.skew1/c,a.scaleY=b.scaleX/c,a.translateY=(b.translateX*b.skew1-b.scaleX*b.translateY)/c):a.clear()},R.calcColorTransformId=function(a,b,c,d){0===d?b.set(c):0===(d&p.COLORTRANSFORM_FLAG)?(a=a.data.alphaTransforms[d],b.multi.red=c.multi.red,b.multi.green=c.multi.green,b.multi.blue=c.multi.blue,b.multi.alpha=c.multi.alpha*a.alpha):(d&=~p.COLORTRANSFORM_FLAG,a=a.data.colorTransforms[d],this.calcColorTransform(b,c,a))},R.calcColorTransform=function(a,b,c){a.multi.red=b.multi.red*c.multi.red,a.multi.green=b.multi.green*c.multi.green,a.multi.blue=b.multi.blue*c.multi.blue,a.multi.alpha=b.multi.alpha*c.multi.alpha},R.copyColorTransform=function(a,b){b?a.set(b):a.clear()},R.calcColor=function(a,b,c){a.red=b.red*c.multi.red,a.green=b.green*c.multi.green,a.blue=b.blue*c.multi.blue,a.alpha=b.alpha*c.multi.alpha};var S=function(){};S.prototype.constructBitmap=function(){return null},S.prototype.constructBitmapEx=function(){return null},S.prototype.constructText=function(){return null},S.prototype.constructParticle=function(){return null},S.prototype.init=function(){},S.prototype.beginRender=function(){},S.prototype.endRender=function(){},S.prototype.destruct=function(){},r=function(a,b,c,d){this.lwf=a,this.parent=b,this.type=c,this.objectId=d,this.matrix=new C,this.colorTransform=new E,this.execCount=0},r.prototype.exec=function(a,b){this.matrixId=null!=a?a:0,this.colorTransformId=null!=b?b:0},r.prototype.update=function(a,b){R.calcMatrixId(this.lwf,this.matrix,a,this.dataMatrixId),R.copyColorTransform(this.colorTransform,b),this.lwf.renderObject()},r.prototype.render=function(a,b){var c,d,e;null!=this.renderer&&(d=this.lwf.renderingIndex,e=this.lwf.renderingIndexOffsetted,c=this.lwf.renderingCount,b!==Number.MIN_VALUE&&(d=e-b+c),this.renderer.render(this.matrix,this.colorTransform,d,c,a)),this.lwf.renderObject()},r.prototype.inspect=function(a,b,c,d){var e,f,g;f=this.lwf.renderingIndex,g=this.lwf.renderingIndexOffsetted,e=this.lwf.renderingCount,d!==Number.MIN_VALUE&&(f=g+d+e),a(this,b,c,f),this.lwf.renderObject()},r.prototype.destroy=function(){this.renderer&&(this.renderer.destruct(),this.renderer=null),this.lwf=this.parent=null},r.prototype.isButton=function(){return this.type===A.BUTTON},r.prototype.isMovie=function(){return this.type===A.MOVIE||this.type===A.ATTACHEDMOVIE},r.prototype.isParticle=function(){return this.type===A.PARTICLE},r.prototype.isProgramObject=function(){return this.type===A.PROGRAMOBJECT},r.prototype.isText=function(){return this.type===A.TEXT};var T=function(a,b,e){var f,g,h,i,j,k,l;T.__super__.constructor.call(this,a,b,F.LObject.Type.GRAPHIC,e),e=a.data.graphics[e],j=e.graphicObjects,this.displayList=[],h=a.data.graphicObjects;for(i=l=0;0>j?l>j:l<j;i=0>j?--l:++l)if(f=h[e.graphicObjectId+i],g=f.graphicObjectId,-1!==g){switch(f.graphicObjectType){case F.GraphicObject.Type.BITMAP:k=new c(a,b,g);break;case F.GraphicObject.Type.BITMAPEX:k=new d(a,b,g);break;case F.GraphicObject.Type.TEXT:k=new y(a,b,g)}this.displayList[i]=k}};l(T,r),T.prototype.update=function(a,b){var c,d,e,f;f=this.displayList,d=0;for(e=f.length;d<e;d++)c=f[d],c.update(a,b)},T.prototype.render=function(a,b){var c,d,e,f;if(a){f=this.displayList,d=0;for(e=f.length;d<e;d++)c=f[d],c.render(a,b)}},T.prototype.destroy=function(){var a,b,c,d;d=this.displayList,b=0;for(c=d.length;b<c;b++)a=d[b],a.destroy();this.displayList=null},q=T;var U=function(a,b,c){U.__super__.constructor.call(this,a,b,F.LObject.Type.BITMAP,c),this.dataMatrixId=a.data.bitmaps[c].matrixId,this.renderer=a.rendererFactory.constructBitmap(a,c,this)};l(U,r),c=U;var V=function(a,b,c){V.__super__.constructor.call(this,a,b,F.LObject.Type.BITMAPEX,c),this.dataMatrixId=a.data.bitmapExs[c].matrixId,this.renderer=a.rendererFactory.constructBitmapEx(a,c,this)};l(V,r),d=V;var W=function(a,b,c){W.__super__.constructor.call(this,a,b,F.LObject.Type.TEXT,c),this.dataMatrixId=a.data.texts[c].matrixId,this.renderer=a.rendererFactory.constructText(a,c,this)};l(W,r),y=W;var X=function(a,b,c){X.__super__.constructor.call(this,a,b,F.LObject.Type.PARTICLE,c),this.dataMatrixId=a.data.particles[c].matrixId,this.renderer=a.rendererFactory.constructParticle(a,c,this)};l(X,r),X.prototype.update=function(a,b){X.__super__.update.call(this,a,b),null!=this.renderer&&this.renderer.update(this.matrix,this.colorTransform)},v=X;var Y=function(a,b,c){Y.__super__.constructor.call(this,a,b,F.LObject.Type.PROGRAMOBJECT,c),b=a.data.programObjects[c],this.dataMatrixId=b.matrixId,a=a.getProgramObjectConstructor(c),null!=a&&(this.renderer=a(this,c,b.width,b.height))};l(Y,r),Y.prototype.update=function(a,b){Y.__super__.update.call(this,a,b),null!=this.renderer&&this.renderer.update(this.matrix,this.colorTransform)},x=Y,A=F.LObject.Type;var Z=function(a,b,c,d,e){Z.__super__.constructor.call(this,a,b,c,d),this.linkInstance=this.nextInstance=this.prevInstance=null,this.instanceId=e<a.data.instanceNames.length?e:-1,0<=this.instanceId&&(c=a.getInstanceNameStringId(this.instanceId),-1!==c&&(this.name=a.data.strings[c],null!=b&&(b[this.name]=this)),a=this.lwf.getInstance(this.instanceId),null!=a&&(a.prevInstance=this),this.nextInstance=a,this.
lwf.setInstance(this.instanceId,this))};l(Z,r),Z.prototype.destroy=function(){var a;return this.type!==A.ATTACHEDMOVIE&&0<=this.instanceId&&(a=this.lwf.getInstance(this.instanceId),a===this&&this.lwf.setInstance(this.instanceId,this.nextInstance),null!=this.nextInstance&&(this.nextInstance.prevInstance=this.prevInstance),null!=this.prevInstance&&(this.prevInstance.nextInstance=this.nextInstance)),null!=this.name&&"undefined"!=typeof parent&&null!==parent&&delete parent[this.name],this.linkInstance=this.nextInstance=this.prevInstance=null,Z.__super__.destroy.apply(this,arguments)},Z.prototype.linkButton=function(){},Z.prototype.getFullName=function(){var a,b,c;c=a="";for(b=this;null!=b;){if(null==b.name)return null;a=b.name+c+a,c=".",b=b.parent}return a},r=Z,o=F.ButtonCondition.Condition;var $=function(a,b,c,d){var e;$.__super__.constructor.call(this,a,b,F.LObject.Type.BUTTON,c,d),this.invert=new C,this.hitY=this.hitX=Number.MIN_VALUE,0>c?this.height=this.width=0:(this.data=a.data.buttons[c],this.dataMatrixId=this.data.matrixId,this.width=this.data.width,this.height=this.data.height),this.handler=a.getButtonEventHandlers(this),null!=(null!=(e=this.handler)?e.load:void 0)&&this.handler.load(this)};l($,r),$.prototype.exec=function(a,b){var c;null==a&&(a=0),null==b&&(b=0),$.__super__.exec.call(this,a,b),null!=(null!=(c=this.handler)?c.enterFrame:void 0)&&this.handler.enterFrame(this)},$.prototype.update=function(a,b){var c;$.__super__.update.call(this,a,b),null!=(null!=(c=this.handler)?c.update:void 0)&&this.handler.update(this)},$.prototype.render=function(a){var b;a&&null!=(null!=(b=this.handler)?b.render:void 0)&&this.handler.render(this)},$.prototype.destroy=function(){var a;this.lwf.clearFocus(this),null!=(null!=(a=this.handler)?a.unload:void 0)&&this.handler.unload(this),$.__super__.destroy.apply(this,arguments)},$.prototype.linkButton=function(){this.buttonLink=this.lwf.buttonHead,this.lwf.buttonHead=this},$.prototype.checkHit=function(a,b){var c,d;return R.invertMatrix(this.invert,this.matrix),d=R.calcMatrixToPoint(a,b,this.invert),c=d[0],d=d[1],0<=c&&c<this.data.width&&0<=d&&d<this.data.height?(this.hitX=c,this.hitY=d,!0):(this.hitY=this.hitX=Number.MIN_VALUE,!1)},$.prototype.rollOver=function(){var a;(null==(null!=(a=this.handler)?a.rollOver:void 0)||this.handler.rollOver(this))&&this.playAnimation(o.ROLLOVER)},$.prototype.rollOut=function(){var a;(null==(null!=(a=this.handler)?a.rollOut:void 0)||this.handler.rollOut(this))&&this.playAnimation(o.ROLLOUT)},$.prototype.press=function(){var a;(null==(null!=(a=this.handler)?a.press:void 0)||this.handler.press(this))&&this.playAnimation(o.PRESS)},$.prototype.release=function(){var a;(null==(null!=(a=this.handler)?a.release:void 0)||this.handler.release(this))&&this.playAnimation(o.RELEASE)},$.prototype.keyPress=function(){var a;(null==(null!=(a=this.handler)?a.keyPress:void 0)||this.handler.keyPress(this))&&this.playAnimation(o.KEYPRESS,code)},$.prototype.playAnimation=function(a,b){var c,d,e,f;null==b&&(b=0),d=this.lwf.data.buttonConditions,c=e=0;for(f=this.data.conditions;0>f?e>f:e<f;c=0>f?--e:++e)c=d[this.data.conditionId+c],0!==(c.condition&a)&&(a!==o.KEYPRESS||c.keyCode===b)&&this.lwf.playAnimation(c.animationId,this.parent,this)},e=$;var _=function(a,b){this.parent=a,this.child=b};l(_,e),_.prototype.set=function(a,b){this.parent=a,this.child=b},_.prototype.checkHit=function(a,b){return null!==this.child.inputPoint(a,b)?!0:!1},_.prototype.rollOver=function(){},_.prototype.rollOut=function(){null!=this.child.focus&&(this.child.focus.rollOut(),this.child.clearFocus(this.child.focus))},_.prototype.press=function(){this.child.inputPress()},_.prototype.release=function(){this.child.inputRelease()},_.prototype.keyPress=function(a){this.child.inputKeyPress(a)};var ab=function(a){this.lwf=a,this.matrix=new C,this.colorTransform=new E,this.scaleY=this.scaleX=1,this.rotation=0,this.hasColorTransform=this.hasMatrix=!1,this.clearRenderingOffset()};ab.prototype.clear=function(){this.scaleY=this.scaleX=1,this.rotation=0,this.matrix.clear(),this.colorTransform.clear(),(this.hasMatrix||this.hasColorTransform)&&this.lwf.setPropertyDirty(),this.hasColorTransform=this.hasMatrix=!1,this.clearRenderingOffset()},ab.prototype.move=function(a,b){this.matrix.translateX+=a,this.matrix.translateY+=b,this.hasMatrix=!0,this.lwf.setPropertyDirty()},ab.prototype.moveTo=function(a,b){this.matrix.translateX=a,this.matrix.translateY=b,this.hasMatrix=!0,this.lwf.setPropertyDirty()},ab.prototype.rotate=function(a){this.rotateTo(this.rotation+a)},ab.prototype.rotateTo=function(a){this.rotation=a,this.setScaleAndRotation()},ab.prototype.scale=function(a,b){this.scaleX*=a,this.scaleY*=b,this.setScaleAndRotation()},ab.prototype.scaleTo=function(a,b){this.scaleX=a,this.scaleY=b,this.setScaleAndRotation()},ab.prototype.setScaleAndRotation=function(){var a,b;b=this.rotation*Math.PI/180,a=Math.cos(b),b=Math.sin(b),this.matrix.scaleX=this.scaleX*a,this.matrix.skew0=this.scaleY*-b,this.matrix.skew1=this.scaleX*b,this.matrix.scaleY=this.scaleY*a,this.hasMatrix=!0,this.lwf.setPropertyDirty()},ab.prototype.setMatrix=function(a,b,c,d){this.scaleX=null!=b?b:1,this.scaleY=null!=c?c:1,this.rotation=null!=d?d:0,this.matrix.set(a),this.hasMatrix=!0,this.lwf.setPropertyDirty()},ab.prototype.setAlpha=function(a){this.colorTransform.multi.alpha=a,this.hasColorTransform=!0,this.lwf.setPropertyDirty()},ab.prototype.setColorTransform=function(a){this.colorTransform.set(a),this.hasColorTransform=!0,this.lwf.setPropertyDirty()},ab.prototype.setRenderingOffset=function(a){this.renderingOffset=a,this.hasRenderingOffset=!0},ab.prototype.clearRenderingOffset=function(){this.renderingOffset=Number.MIN_VALUE,this.hasRenderingOffset=!1},A=F.LObject.Type,g=F.MovieClipEvent.ClipEvent;var bb=function(a,b,c,d,e,f,h,i){var j,k;this.matrixId=null!=e?e:0,this.colorTransformId=null!=f?f:0,null==h&&(h=!1),null==i&&(i=null),bb.__super__.constructor.call(this,a,b,h?A.ATTACHEDMOVIE:A.MOVIE,c,d),this.data=a.data.movies[c],this.totalFrames=this.data.frames,this.instanceTail=this.instanceHead=null,this.animationPlayedFrame=this.execedFrame=this.currentFrameInternal=-1,this.postLoaded=!1,this.playing=this.visible=this.active=!0,this.overriding=this.jumped=!1,this.property=new ab(a),"undefined"!=typeof this.__defineGetter__?(this.__defineGetter__("x",function(){return this.getX()}),this.__defineSetter__("x",function(a){return this.setX(a)}),this.__defineGetter__("y",function(){return this.getY()}),this.__defineSetter__("y",function(a){return this.setY(a)}),this.__defineGetter__("scaleX",function(){return this.getScaleX()}),this.__defineSetter__("scaleX",function(a){return this.setScaleX(a)}),this.__defineGetter__("scaleY",function(){return this.getScaleY()}),this.__defineSetter__("scaleY",function(a){return this.setScaleY(a)}),this.__defineGetter__("rotation",function(){return this.getRotation()}),this.__defineSetter__("rotation",function(a){return this.setRotation(a)}),this.__defineGetter__("alpha",function(){return this.getAlphaProperty()}),this.__defineSetter__("alpha",function(a){return this.setAlphaProperty(a)}),this.__defineGetter__("currentFrame",function(){return this.currentFrameInternal+1})):"undefined"!=typeof Object.defineProperty&&(Object.defineProperty(this,"x",{get:function(){return this.getX()},set:function(a){return this.setX(a)}}),Object.defineProperty(this,"y",{get:function(){return this.getY()},set:function(a){return this.setY(a)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.getScaleX()},set:function(a){return this.setScaleX(a)}}),Object.defineProperty(this,"scaleY",{get:function(){return this.getScaleY()},set:function(a){return this.setScaleY(a)}}),Object.defineProperty(this,"rotation",{get:function(){return this.getRotation()},set:function(a){return this.setRotation(a)}}),Object.defineProperty(this,"alpha",{get:function(){return this.getAlphaProperty()},set:function(a){return this.setAlphaProperty(a)}}),Object.defineProperty(this,"currentFrame",{get:function(){return this.currentFrameInternal+1}})),this.matrix0=new C,this.matrix1=new C,this.colorTransform0=new E,this.colorTransform1=new E,this.displayList=[],this.depth=this.attachName=null,this.hasButton=!1,this.getMovieFunctions(),c===this.lwf.data.header.rootMovieId&&(b=null!=(j=this.lwf.functions)?j.init:void 0,null!=b&&b.call(this)),null!=this.loadFunc&&this.loadFunc.call(this),this.playAnimation(g.LOAD),this.handler=null!=i?i:a.getMovieEventHandlers(this),null!=(null!=(k=this.handler)?k.load:void 0)&&this.handler.load.call(this),a.execMovieCommand()};l(bb,r),bb.prototype.getMovieFunctions=function(){var a;a=this.lwf.getMovieFunctions(this.objectId),this.loadFunc=a[0],this.postLoadFunc=a[1],this.unloadFunc=a[2],this.enterFrameFunc=a[3]},bb.prototype.setHandlers=function(a){this.handler=a},bb.prototype.play=function(){return this.playing=!0,this},bb.prototype.stop=function(){return this.playing=!1,this},bb.prototype.gotoNextFrame=function(){return this.jumped=!0,this.stop(),++this.currentFrameInternal,this},bb.prototype.gotoPrevFrame=function(){return this.jumped=!0,this.stop(),--this.currentFrameInternal,this},bb.prototype.gotoFrame=function(a){return this.gotoFrameInternal(a-1)},bb.prototype.gotoFrameInternal=function(a){return this.jumped=!0,this.stop(),this.currentFrameInternal=a,this},bb.prototype.setVisible=function(a){return this.visible=a,this},bb.prototype.globalToLocal=function(a){var b;return b=new C,R.invertMatrix(b,this.matrix),a=R.calcMatrixToPoint(a.x,a.y,b),new w(a[0],a[1])},bb.prototype.localToGlobal=function(a){return a=R.calcMatrixToPoint(a.x,a.y,this.matrix),new w(a[0],a[1])},bb.prototype.shrinkList=function(a){var b,c,d;for(b=c=d=a.length-1;0<d?0<=c:0>=c;b=0<d?--c:++c)if(null!=a[b])return b===a.length-1?a:a.slice(0,b+1||9e9);return[]},bb.prototype.reorderList=function(a,b,c,d,e){!a||c>=b.length?b[c]=d:b.splice(c,0,d);if(a){a=0;for(c=[];a<b.length;)null!=b[a]?(e(b[a],a),c.push(a+=1)):c.push(b.splice(a,1));return c}},bb.prototype.deleteAttachedMovie=function(a,b,c,d){var e,f;null==c&&(c=!0),null==d&&(d=!0),e=b.attachName,f=b.depth,delete a.attachedMovies[e],delete a.attachedMovieList[f],d&&delete a.detachedMovies[e],delete a[e],a.attachedMovieList=this.shrinkList(a.attachedMovieList);if(c)return b.destroy()},bb.prototype.attachMovie=function(a,b,c){var d,e,f,g,h,i,j,k,l;null==c&&(c=null),null==c&&(c={}),d=c.depth,j=null!=(e=c.reorder)?e:!1,f=c.load,i=c.postLoad,k=c.unload,e=c.enterFrame,l=c.update,c=c.render;if(a instanceof bb&&a.lwf===this.lwf)g=a,this.deleteAttachedMovie(g.parent,g,!1);else{if("string"!=typeof a)return null;if(h=this.lwf.searchMovieLinkage(this.lwf.getStringId(a)),-1===h)return null}return null==this.attachedMovies&&(this.attachedMovies={},this.detachedMovies={},this.attachedMovieList=[]),a=this.attachedMovies[b],null!=a&&this.deleteAttachedMovie(this,a),j||(a=this.attachedMovieList[d],null!=a&&this.deleteAttachedMovie(this,a)),a=new u(f,i,k,e,l,c),null!=g?g.setHandlers(handler):g=new bb(this.lwf,this,h,-1,0,0,!0,a),g.attachName=b,g.depth=null!=d?d:this.attachedMovieList.length,g.name=b,this.attachedMovies[b]=g,this.reorderList(j,this.attachedMovieList,g.depth,g,function(a,b){return a.depth=b}),this[b]=g},bb.prototype.swapAttachedMovieDepth=function(a,b){var c,d;null!=this.attachedMovies&&(c=this.attachedMovieList[a],d=this.attachedMovieList[b],null!=c&&(c.depth=b),null!=d&&(d.depth=a),this.attachedMovieList[a]=d,this.attachedMovieList[b]=c)},bb.prototype.getAttachedMovie=function(a){if(null==this.attachedMovies)return null;switch(typeof a){case"string":return this.attachedMovies[a];case"number":return this.attachedMovieList[a]}},bb.prototype.searchAttachedMovie=function(a,b){var c,d;null==b&&(b=!0),c=this.getAttachedMovie(a);if(null!=c)return c;if(!b)return null;for(d=this.instanceHead;null!=d;){if(d.isMovie()&&(c=d.searchAttachedMovie(a,b),null!=c))return c;d=d.linkInstance}return null},bb.prototype.detachMovie=function(a){var b;if(null!=this.detachedMovies)switch(typeof a){case"string":this.detachedMovies[a]=!0;break;case"number":a=null!=(b=this.attachedMovieList)?b[a]:void 0,null!=(null!=a?a.attachName:void 0)&&(this.detachedMovies[a.attachName]=!0);break;case typeof bb:null!=(null!=a?a.attachName:void 0)&&(this.detachedMovies[a.attachName]=!0)}},bb.prototype.detachFromParent=function(){this.type===A.ATTACHEDMOVIE&&(this.active=!1,null!=this.parent&&this.parent.detachMovie(this))},bb.prototype.execDetachHandler=function(a){a=a.child,null!=a.detachHandler?a.detachHandler(a)&&a.destroy():a.destroy(),a.parent=null,a.detachHandler=null,a.attachName=null},bb.prototype.deleteAttachedLWF=function(a,b,c,d){var e,f;null==c&&(c=!0),null==d&&(d=!0),e=b.child.attachName,f=b.child.depth,delete a.attachedLWFs[e],delete a.attachedLWFList[f],d&&delete a.detachedLWFs[e],delete a[e],a.attachedLWFList=this.shrinkList(a.attachedLWFList);if(c)return this.execDetachHandler(b)},bb.prototype.attachLWF=function(a,b,c){var d,e,f;null==c&&(c=null),null==c&&(c={}),d=c.depth,f=null!=(e=c.reorder)?e:!1,c=c.detach,null==this.attachedLWFs&&(this.attachedLWFs={},this.detachedLWFs={},this.attachedLWFList=[]),null!=a.parent&&(e=a.parent.attachedLWFs[a.attachName],this.deleteAttachedLWF(a.parent,e,!1)),e=this.attachedLWFs[b],null!=e&&this.deleteAttachedLWF(this,e),f||(e=this.attachedLWFList[d],null!=e&&this.deleteAttachedLWF(this,e)),e=new _(this,a),a.interactive&&(this.lwf.interactive=!0),a.parent=this,a.detachHandler=c,a.attachName=b,a.depth=null!=d?d:this.attachedLWFList.length,this.attachedLWFs[b]=e,this.reorderList(f,this.attachedLWFList,a.depth,e,function(a,b){return a.child.depth=b}),this[b]=a.rootMovie,this.lwf.isLWFAttached=!0},bb.prototype.swapAttachedLWFDepth=function(a,b){var c,d;null!=this.attachedLWFs&&(c=this.attachedLWFList[a],d=this.attachedLWFList[b],null!=c&&(c.child.depth=b),null!=d&&(d.child.depth=a),this.attachedLWFList[a]=d,this.attachedLWFList[b]=c)},bb.prototype.getAttachedLWF=function(a){var b,c;if(null==this.attachedLWFs)return null;switch(typeof a){case"string":return null!=(b=this.attachedLWFs[a])?b.child:void 0;case"number":return null!=(c=this.attachedLWFList[a])?c.child:void 0}},bb.prototype.searchAttachedLWF=function(a,b){var c,d;null==b&&(b=!0),c=this.getAttachedLWF(a);if(null!=c)return c;if(!b)return null;for(d=this.instanceHead;null!=d;){if(d.isMovie()&&(c=d.searchAttachedLWF(a,b),null!=c))return c;d=d.linkInstance}return null},bb.prototype.detachLWF=function(a){var b,c;if(null!=this.detachedLWFs)switch(typeof a){case"string":this.detachedLWFs[a]=!0;break;case"number":a=null!=(b=this.attachedLWFList)?b[a]:void 0,null!=(null!=a?null!=(c=a.child)?c.attachName:void 0:void 0)&&(this.detachedLWFs[a.child.attachName]=!0);break;case typeof s:null!=(null!=a?a.attachName:void 0)&&(this.detachedLWFs[a.attachName]=!0)}},bb.prototype.detachAllLWFs=function(){var a,b,c;if(null!=this.detachedLWFs)for(a in c=this.attachedLWFs,c)b=c[a],this.detachedLWFs[b.child.attachName]=!0},bb.prototype.execObject=function(a,b,f,g,h){var i,j;if(-1!==b){i=this.lwf.data,b=i.objects[b],i=b.objectId,j=this.displayList[a],null!=j&&(j.type!==b.objectType||j.objectId!==i||j.isMovie()&&j.instanceId!==h)&&(j.destroy(),j=null);if(null==j)switch(b.objectType){case A.BUTTON:j=new e(this.lwf,this,i,h);break;case A.GRAPHIC:j=new q(this.lwf,this,i);break;case A.MOVIE:j=new bb(this.lwf,this,i,h,f,g);break;case A.BITMAP:j=new c(this.lwf,this,i);break;case A.BITMAPEX:j=new d(this.lwf,this,i);break;case A.TEXT:j=new y(this.lwf,this,i);break;case A.PARTICLE:j=new v(this.lwf,this,i);break;case A.PROGRAMOBJECT:j=new x(this.lwf,this,i)}j.type===A.MOVIE?(j.linkInstance=null,null==this.instanceHead?this.instanceHead=j:this.instanceTail.linkInstance=j,this.instanceTail=j):j.type===A.BUTTON&&(this.hasButton=!0),this.displayList[a]=j,j.execCount=this.lwf.execCount,j.exec(f,g)}},bb.prototype.override=function(a,b){this.overriding=!0,R.copyMatrix(this.matrix,a),R.copyColorTransform(this.colorTransform,b),this.lwf.isPropertyDirty=!0},bb.prototype.postExec=function(a){var b,c,d,e,f,h,i,j,k,l;this.hasButton=!1;if(this.active){this.instanceTail=this.instanceHead=null,this.execedFrame=-1;for(a&&this.playing&&!this.jumped&&++this.currentFrameInternal;;){if(0>this.currentFrameInternal||this.currentFrameInternal>=this.totalFrames)this.currentFrameInternal=0;if(this.currentFrameInternal===this.execedFrame)break;this.instanceTail=this.instanceHead=null,this.execedFrame=this.currentFrameCurrent=this.currentFrameInternal,e=this.lwf.data,f=e.frames[this.data.frameOffset+this.currentFrameCurrent],d=-1,h=i=0;for(j=f.controls;0>j?i>j:i<j;h=0>j?--i:++i)switch(b=e.controls[f.controlOffset+h],b.controlType){case F.Control.Type.MOVE:h=e.places[b.controlId],this.execObject(h.depth,h.objectId,h.matrixId,0,h.instanceId);break;case F.Control.Type.MOVEM:b=e.controlMoveMs[b.controlId],h=e.places[b.placeId],this.execObject(h.depth,h.objectId,b.matrixId,0,h.instanceId);break;case F.Control.Type.MOVEC:b=e.controlMoveCs[b.controlId],h=e.places[b.placeId],this.execObject(h.depth,h.objectId,h.matrixId,b.colorTransformId,h.instanceId);break;case F.Control.Type.MOVEMC:b=e.controlMoveMCs[b.controlId],h=e.places[b.placeId],this.execObject(h.depth,h.objectId,b.matrixId,b.colorTransformId,h.instanceId);break;case F.Control.Type.ANIMATION:-1===d&&(d=h)}b=i=0;for(j=this.data.depths;0>j?i>j:i<j;b=0>j?--i:++i)h=this.displayList[b],null!=h&&h.execCount!==this.lwf.execCount&&(h.destroy(),this.displayList[b]=null);if(null!=this.attachedMovies){j=this.attachedMovieList,h=0;for(i=j.length;h<i;h++)b=j[h],null!=b&&b.exec()}for(h=this.instanceHead;null!=h;)h.isMovie()&&(b=h,b.postExec(a),!this.hasButton&&b.hasButton&&(this.hasButton=!0)),h=h.linkInstance;if(null!=this.attachedMovies){b=this.detachedMovies;for(c in b)b=this.attachedMovies[c],null!=b&&this.deleteAttachedMovie(this,b,!0,!1);this.detachedMovies={},j=this.attachedMovieList,h=0;for(i=j.length;h<i;h++)b=j[h],null!=b&&(b.postExec(a),!this.hasButton&&b.hasButton&&(this.hasButton=!0))}this.postLoaded||(this.postLoaded=!0,null!=this.postLoadFunc&&this.postLoadFunc.call(this),null!=(null!=(k=this.handler)?k.postLoad:void 0)&&this.handler.postLoad.call(this));if(-1!==d&&this.execedFrame===this.currentFrameInternal&&(b=this.animationPlayedFrame===this.currentFrameCurrent&&!this.jumped,!b)){h=i=d;for(j=f.controls;d>j?i>j:i<j;h=d>j?--i:++i)b=e.controls[f.controlOffset+h],this.lwf.playAnimation(b.controlId,this)}this.animationPlayedFrame=this.currentFrameCurrent,this.currentFrameCurrent===this.currentFrameInternal&&(this.jumped=!1)}null!=this.enterFrameFunc&&this.enterFrameFunc.call(this),this.playAnimation(g.ENTERFRAME),null!=(null!=(l=this.handler)?l.enterFrame:void 0)&&this.handler.enterFrame.call(this)}},bb.prototype.update=function(a,b){var c,d,e,f,g,h,i;if(this.active){this.overriding||(R.copyMatrix(this.matrix,a),R.copyColorTransform(this.colorTransform,b)),null!=(null!=(d=this.handler)?d.update:void 0)&&this.handler.update.call(this),e=d=0;for(i=this.data.depths;0>i?d>i:d<i;e=0>i?--d:++d)e=this.displayList[e],null!=e&&(h=this.matrix0,f=e.type===A.MOVIE&&e.property.hasMatrix,this.property.hasMatrix?f?R.calcMatrix(h,this.matrix,this.property.matrix):(R.calcMatrix(this.matrix1,this.matrix,this.property.matrix),R.calcMatrixId(this.lwf,h,this.matrix1,e.matrixId)):f?R.copyMatrix(h,this.matrix):R.calcMatrixId(this.lwf,h,this.matrix,e.matrixId),g=this.colorTransform0,f=e.type===A.MOVIE&&e.property.hasColorTransform,this.property.hasColorTransform?f?R.calcColorTransform(g,this.colorTransform,this.property.colorTransform):(R.calcColorTransform(this.colorTransform1,this.colorTransform,this.property.colorTransform),R.calcColorTransformId(this.lwf,g,this.colorTransform1,e.colorTransformId)):f?R.copyColorTransform(g,this.colorTransform):R.calcColorTransformId(this.lwf,g,this.colorTransform,e.colorTransformId),e.update(h,g));if(null!=this.attachedMovies||null!=this.attachedLWFs){a=this.matrix,this.property.hasMatrix&&(d=this.matrix1.set(a),R.calcMatrix(a,d,this.property.matrix)),b=this.colorTransform,this.property.hasColorTransform&&(d=this.colorTransform1.set(b),R.calcColorTransform(b,d,this.property.colorTransform));if(null!=this.attachedMovies){h=this.attachedMovieList,i=0;for(e=h.length;i<e;i++)d=h[i],null!=d&&d.update(a,b)}if(null!=this.attachedLWFs){d=this.detachedLWFs;for(c in d)d=this.attachedLWFs[c],null!=d&&this.deleteAttachedLWF(this,d,!0,!1);this.detachedLWFs={},e=this.attachedLWFList,c=0;for(i=e.length;c<i;c++)d=e[c],null!=d&&this.lwf.renderObject(d.child.exec(this.lwf.thisTick,a,b))}}}},bb.prototype.linkButton=function(){var a,b,c,d;if(this.visible&&this.active){if(null!=this.attachedLWFs){d=this.attachedLWFList,b=0;for(c=d.length;b<c;b++)a=d[b],null!=a&&a.linkButton()}if(null!=this.attachedMovies){d=this.attachedMovieList,b=0;for(c=d.length;b<c;b++)a=d[b],null!=a&&a.hasButton&&a.linkButton()}a=b=0;for(c=this.data.depths;0>c?b>c:b<c;a=0>c?--b:++b)a=this.displayList[a],null!=a&&(a.type===A.BUTTON?a.linkButton():a.type===A.MOVIE&&a.hasButton&&a.linkButton())}},bb.prototype.render=function(a,b){var c,d,e,f;if(!this.visible||!this.active)a=!1;null!=(null!=(c=this.handler)?c.render:void 0)&&this.handler.render.call(this),this.property.hasRenderingOffset&&(this.lwf.renderOffset(),b=this.property.renderingOffset),b===Number.MIN_VALUE&&this.lwf.clearRenderOffset(),e=c=0;for(f=this.data.depths;0>f?c>f:c<f;e=0>f?--c:++c)e=this.displayList[e],null!=e&&e.render(a,b);if(null!=this.attachedMovies){d=this.attachedMovieList,f=0;for(e=d.length;f<e;f++)c=d[f],null!=c&&c.render(a,b)}if(null!=this.attachedLWFs){e=this.attachedLWFList,c=0;for(f=e.length;c<f;c++)d=e[c],null!=d&&(d=d.child,d.setAttachVisible(a),this.lwf.renderObject(d.render(this.lwf.renderingIndex,this.lwf.renderingCount,b)))}},bb.prototype.inspect=function(a,b,c){var d,e,f,g,h;this.property.hasRenderingOffset&&(this.lwf.renderOffset(),f=this.property.renderingOffset),f===Number.MIN_VALUE&&this.lwf.clearRenderOffset(),a(this,b,c,f),++b,c=g=0;for(h=this.data.depths;0>h?g>h:g<h;c=0>h?--g:++g)d=this.displayList[c],null!=d&&d.inspect(a,b,c,f);if(null!=this.attachedMovies){e=this.attachedMovieList,g=0;for(h=e.length;g<h;g++)d=e[g],null!=d&&d.inspect(a,b,c++,f)}if(null!=this.attachedLWFs){h=this.attachedLWFList,d=0;for(g=h.length;d<g;d++)e=h[d],null!=e&&(e=e.child,this.lwf.renderObject(e.inspect(a,b,c++,f)))}},bb.prototype.destroy=function(){var a,b,c,d,e,f;e=this.displayList,c=0;for(d=e.length;c<d;c++)b=e[c],null!=b&&b.destroy();if(null!=this.attachedMovies){c=this.attachedMovies;for(a in c)b=c[a],b.destroy();this.attachedMovieList=this.detachedMovies=this.attachedMovies=null}if(null!=this.attachedLWFs){c=this.attachedLWFs;for(a in c)b=c[a],this.execDetachHandler(b);this.attachedLWFList=this.detachedLWFs=this.attachedLWFs=null}null!=this.unloadFunc&&this.unloadFunc.call(this),this.playAnimation(g.UNLOAD),null!=(null!=(f=this.handler)?f.unload:void 0)&&this.handler.unload.call(this),this.property=this.displayList=this.instanceTail=this.instanceHead=null,bb.__super__.destroy.apply(this,arguments)},bb.prototype.playAnimation=function(a){var b,c,d,e;c=this.lwf.data.movieClipEvents,b=d=0;for(e=this.data.clipEvents;0>e?d>e:d<e;b=0>e?--d:++d)b=c[this.data.clipEventId+b],0!==(b.clipEvent&a)&&this.lwf.playAnimation(b.animationId,this)},bb.prototype.searchFrame=function(a){return this.lwf.searchFrame(this,a)},bb.prototype.gotoLabel=function(a){return"string"==typeof a&&(a=this.lwf.getStringId(a)),this.gotoFrame(this.lwf.searchFrame(this,a)),this},bb.prototype.gotoAndStop=function(a){return"string"==typeof a?this.gotoFrame(this.lwf.searchFrame(this,this.lwf.getStringId(a))):this.gotoFrame(a),this.stop(),this},bb.prototype.gotoAndPlay=function(a){return"string"==typeof a?this.gotoFrame(this.lwf.searchFrame(this,this.lwf.getStringId(a))):this.gotoFrame(a),this.play(),this},bb.prototype.searchMovieInstance=function(a,b){var c,d;null==b&&(b=!0),"string"==typeof a&&(a=this.lwf.getStringId(a));for(d=this.instanceHead;null!=d;){if(d.isMovie()&&this.lwf.getInstanceNameStringId(d.instanceId)===a)return d;if(b&&d.isMovie()&&(c=d.searchMovieInstance(a,b),null!=c))return c;d=d.linkInstance}return null},bb.prototype.searchMovieInstanceByInstanceId=function(a,b){var c,d;for(d=this.instanceHead;null!=d;){if(d.isMovie()&&d.instanceId===a)return d;if(b&&d.isMovie()&&(c=d.searchMovieInstanceByInstanceId(a,b),null!=c))return c;d=d.linkInstance}return null},bb.prototype.move=function(a,b){return this.property.hasMatrix||R.getMatrix(this),this.property.move(a,b),this},bb.prototype.moveTo=function(a,b){return this.property.hasMatrix||R.getMatrix(this),this.property.moveTo(a,b),this},bb.prototype.rotate=function(a){return this.property.hasMatrix||R.getMatrix(this),this.property.rotate(a),this},bb.prototype.rotateTo=function(a){return this.property.hasMatrix||R.getMatrix(this),this.property.rotateTo(a),this},bb.prototype.scale=function(a,b){return this.property.hasMatrix||R.getMatrix(this),this.property.scale(a,b),this},bb.prototype.scaleTo=function(a,b){return this.property.hasMatrix||R.getMatrix(this),this.property.scaleTo(a,b),this},bb.prototype.setMatrix=function(a,b,c,d){return null==c&&(c=1),null==d&&(d=0),this.property.setMatrix(a,scalex,c,d),this},bb.prototype.setAlpha=function(a){return this.property.hasColorTransform||R.getColorTransform(this),this.property.setAlpha(a),this},bb.prototype.setColorTransform=function(a){return this.property.setColorTransform(a),this},bb.prototype.setRenderingOffset=function(a){return this.property.setRenderingOffset(a),this},bb.prototype.getX=function(){return this.property.hasMatrix||R.getMatrix(this),this.property.matrix.translateX},bb.prototype.setX=function(a){this.property.hasMatrix||R.getMatrix(this),this.property.moveTo(a,this.property.matrix.translateY)},bb.prototype.getY=function(){return this.property.hasMatrix||R.getMatrix(this),this.property.matrix.translateY},bb.prototype.setY=function(a){this.property.hasMatrix||R.getMatrix(this),this.property.moveTo(this.property.matrix.translateX,a)},bb.prototype.getScaleX=function(){return this.property.hasMatrix||R.getMatrix(this),this.property.scaleX},bb.prototype.setScaleX=function(a){this.property.hasMatrix||R.getMatrix(this),this.property.scaleTo(a,this.property.scaleY)},bb.prototype.getScaleY=function(){return this.property.hasMatrix||R.getMatrix(this),this.property.scaleY},bb.prototype.setScaleY=function(a){this.property.hasMatrix||R.getMatrix(this),this.property.scaleTo(this.property.scaleX,a)},bb.prototype.getRotation=function(){return this.property.hasMatrix||R.getMatrix(this),this.property.rotation},bb.prototype.setRotation=function(a){this.property.hasMatrix||R.getMatrix(this),this.property.rotateTo(a)},bb.prototype.getAlphaProperty=function(){return this.property.hasColorTransform||R.getColorTransform(this),this.property.colorTransform.multi.alpha},bb.prototype.setAlphaProperty=function(a){this.property.hasColorTransform||R.getColorTransform(this),this.property.setAlpha(a)},t=bb,u=function(a,b,c,d,e,f){this.load=a,this.postLoad=b,this.unload=c,this.enterFrame=d,this.update=e,this.render=f},f=function(a,b,c,d,e,f,g,h,i,j){this.load=a,this.unload=b,this.enterFrame=c,this.update=d,this.render=e,this.rollOver=f,this.rollOut=g,this.press=h,this.release=i,this.keyPress=j};var G=function(a,b,c,d){null==b&&(b=null),null==c&&(c=null),this.privateData=null!=d?d:null,this.data=a,null!=c&&(this.functions=c()),this.width=this.data.header.width,this.height=this.data.header.height,this.backgroundColor=this.data.header.backgroundColor,this.name=this.data.strings[this.data.header.nameStringId],this.interactive=0<this.data.buttonConditions.length,this.url=null,this.frameRate=this.data.header.frameRate,this.tick=1/this.frameRate,this.roundOffTick=this.tick*cb,this.thisTick=this.time=0,this.attachVisible=!0,this.updateCount=this.execCount=0,this.isLWFAttached=this.isPropertyDirty=this.isExecDisabled=!1,this.interceptByNotAllowOrDenyButtons=!0,this.intercepted=!1,this.scaleByStage=1,this.pointY=this.pointX=Number.MIN_VALUE,this.pressing=!1,!this.interactive&&1===this.data.frames.length&&this.disableExec(),this.property=new ab(this),this.instances=[],this.eventHandlers=[],this.movieEventHandlers=[],this.buttonEventHandlers=[],this.movieCommands={},this.programObjectConstructors=[],this.depth=this.attachName=this.parent=null,this.matrix=new C,this.colorTransform=new E,this.init(),this.setRendererFactory(b)},cb;cb=.05,G.prototype.setRendererFactory=function(a){null==a&&(a=null),null==a&&(a=new S),this.rendererFactory=a,this.rendererFactory.init(this)},G.prototype.setFrameRate=function(a){0!==a&&(this.frameRate=a,this.tick=1/this.frameRate)},G.prototype.fitForHeight=function(a,b){R.fitForHeight(this,a,b)},G.prototype.fitForWidth=function(a,b){R.fitForWidth(this,a,b)},G.prototype.scaleForHeight=function(a){R.scaleForHeight(this,a)},G.prototype.scaleForWidth=function(a){R.scaleForWidth(this,a)},G.prototype.renderOffset=function(){this.renderingIndexOffsetted=0},G.prototype.clearRenderOffset=function(){this.renderingIndexOffsetted=this.renderingIndex},G.prototype.renderObject=function(a){return null==a&&(a=1),this.renderingIndex+=a,this.renderingIndexOffsetted+=a,this.renderingIndex},G.prototype.setAttachVisible=function(a){this.attachVisible=a},G.prototype.clearFocus=function(a){this.focus===a&&(this.focus=null)},G.prototype.clearIntercepted=function(){this.intercepted=!1},G.prototype.init=function(){this.progress=this.time=0,this.instances=[],this.focus=null,this.movieCommands={},this.rootMovieStringId=this.getStringId("_root"),null!=this.rootMovie&&this.rootMovie.destroy(),this.rootMovie=new t(this,null,this.data.header.rootMovieId,this.searchInstanceId(this.rootMovieStringId))},G.prototype.calcMatrix=function(a){var b,c;return c=this.property,c.hasMatrix?null!=a?(b=this.matrix,R.calcMatrix(b,a,c.matrix)):b=c.matrix:b=a,b},G.prototype.calcColorTransform=function(a){var b,c;return c=this.property,c.hasColorTransform?null!=a?(b=this.colorTransform,R.calcColorTransform(b,a,c.colorTransform)):b=c.colorTransform:b=a,b},G.prototype.exec=function(a,b,c){var d,e,f,g;null==a&&(a=0),null==b&&(b=null),null==c&&(c=null),f=!1,d=this.progress;if(this.isExecDisabled)this.executedForExecDisabled||(this.rootMovie.execCount=++this.execCount,this.rootMovie.exec(),this.rootMovie.postExec(!0),f=this.executedForExecDisabled=!0);else{g=!0,this.thisTick=a,0===a?this.progress=this.tick:0>a?(this.progress=this.tick,g=!1):0===this.time?(this.time+=this.tick,this.progress+=this.tick):(this.time+=a,this.progress+=a);for(e=10;this.progress>=this.tick-this.roundOffTick;){if(0>--e){this.progress=0;break}this.progress-=this.tick,this.rootMovie.execCount=++this.execCount,this.rootMovie.exec(),this.rootMovie.postExec(g),f=!0}this.progress<this.roundOffTick&&(this.progress=0),this.interactive&&(this.buttonHead=null,this.rootMovie.linkButton())}return(f||this.isLWFAttached||this.isPropertyDirty||null!=b||null!=c)&&this.update(b,c),!this.execDisabled&&0>a&&(this.progress=d),this.renderingCount},G.prototype.forceExec=function(a,b){return null==a&&(a=null),null==b&&(b=null),this.exec(0,a,b)},G.prototype.forceExecWithoutProgress=function(a,b){return null==a&&(a=null),null==b&&(b=null),this.exec(-1,a,b)},G.prototype.update=function(a,b){var c,d;null==a&&(a=null),null==b&&(b=null),d=this.calcMatrix(a),c=this.calcColorTransform(b),this.renderingIndexOffsetted=this.renderingIndex=0,this.rootMovie.update(d,c),this.renderingCount=this.renderingIndex,this.thisTick=0,this.isPropertyDirty=!1,this.updateCount++},G.prototype.render=function(a,b,c){var d;return null==a&&(a=0),null==b&&(b=0),null==c&&(c=Number.MIN_VALUE),d=this.renderingCount,0<b&&(this.renderingCount=b),this.renderingIndexOffsetted=this.renderingIndex=a,this.property.hasRenderingOffset&&(this.renderOffset(),c=this.property.renderingOffset),this.rendererFactory.beginRender(this),this.rootMovie.render(this.attachVisible,c),this.rendererFactory.endRender(this),this.renderingCount=d},G.prototype.inspect=function(a,b,c,d,e,f){var g;return null==b&&(b=0),null==c&&(c=0),null==d&&(d=0),null==e&&(e=0),null==f&&(f=Number.MIN_VALUE),g=this.renderingCount,0<e&&(this.renderingCount=e),this.renderingIndexOffsetted=this.renderingIndex=d,this.property.hasRenderingOffset&&(this.renderOffset(),f=this.property.renderingOffset),this.rootMovie.inspect(a,b,c,f),this.renderingCount=g},G.prototype.destroy=function(){var a,b;null!=this.stopTweens&&this.stopTweens(),this.rootMovie.destroy(),this.rootMovie=null,a=null!=(b=this.functions)?b.destroy:void 0,null!=a&&a.call(this),this.functions=null,null!=this.rendererFactory&&(a=this.rendererFactory.resourceCache,null!=a&&a.unloadLWF(this),this.rendererFactory.destruct(),this.rendererFactory=null),this.programObjectConstructors=this.movieCommands=this.buttonEventHandlers=
this.movieEventHandlers=this.eventHandlers=this.instances=this.buttonHead=this.property=null},G.prototype.getInstanceNameStringId=function(a){return 0>a||a>=this.data.instanceNames.length?-1:this.data.instanceNames[a].stringId},G.prototype.getStringId=function(a){return a=this.data.stringMap[a],null!=a?a:-1},G.prototype.searchInstanceId=function(a){return 0>a||a>=this.data.strings.length?-1:(a=this.data.instanceNameMap[a],null!=a?a:-1)},G.prototype.searchFrame=function(a,b){var c;return"string"==typeof b&&(b=this.getStringId(b)),0>b||b>=this.data.strings.length?-1:(c=this.data.labelMap[a.objectId][b],null!=c?c+1:-1)},G.prototype.getMovieLabels=function(a){return null==a?null:this.data.labelMap[a.objectId]},G.prototype.searchMovieLinkage=function(a){return 0>a||a>=this.data.strings.length?-1:(a=this.data.movieLinkageMap[a],null!=a?this.data.movieLinkages[a].movieId:-1)},G.prototype.getMovieLinkageName=function(a){return a=this.data.movieLinkageNameMap[a],null!=a?this.data.strings[a]:null},G.prototype.searchMovieInstance=function(a){var b,c,d,e,f;if("string"==typeof a){b=a;if(-1!==b.indexOf(".")){d=b.split(".");if(d[0]!==this.data.strings[this.rootMovieStringId])return null;b=this.rootMovie,e=0;for(f=d.length;e<f;e++)if(c=d[e],b=b.searchMovieInstance(c,!1),null==b)return null}a=this.getStringId(a)}return this.searchMovieInstanceByInstanceId(this.searchInstanceId(a))},G.prototype.searchMovieInstanceByInstanceId=function(a){"string"==typeof a&&(a=this.searchInstanceId(this.getStringId(a)));if(0>a||a>=this.data.instanceNames.length)return null;for(a=this.instances[a];null!=a;){if(a.isMovie())return a;a=a.nextInstance}return null},G.prototype.searchEventId=function(a){return"string"==typeof a&&(a=this.getStringId(a)),0>a||a>=this.data.strings.length?-1:(a=this.data.eventMap[a],null!=a?a:-1)},G.prototype.searchProgramObjectId=function(a){return"string"==typeof a&&(a=this.getStringId(a)),0>a||a>=this.data.strings.length?-1:(a=this.data.programObjectMap[a],null!=a?a:-1)},G.prototype.getInstance=function(a){return this.instances[a]},G.prototype.setInstance=function(a,b){this.instances[a]=b},G.prototype.setEventHandler=function(a,b){"string"==typeof a&&(a=this.searchEventId(a)),0>a||a>=this.data.events.length||(this.eventHandlers[a]=b)},G.prototype.getProgramObjectConstructor=function(a){return"string"==typeof a&&(a=this.searchProgramObjectId(this.getStringId(a))),0>a||a>=this.data.programObjects.length?null:this.programObjectConstructors[a]},G.prototype.setProgramObjectConstructor=function(a,b){"string"==typeof a&&(a=this.searchProgramObjectId(this.getStringId(a))),0>a||a>=this.data.programObjects.length||(this.programObjectConstructors[a]=b)},G.prototype.getMovieEventHandlers=function(a){var b;return null!=this.movieEventHandlersByFullName&&(b=a.getFullName(),null!=b&&(b=this.movieEventHandlersByFullName[b],null!=b))?b:this.movieEventHandlers[a.instanceId]},G.prototype.setMovieEventHandler=function(a,b){var c,d,e,f,g,h,i;e=b.load,f=b.postLoad,h=b.unload,c=b.enterFrame,i=b.update,g=b.render,d=this.searchInstanceId(this.getStringId(a)),0<=d&&d<this.data.instanceNames.length&&(b=null!=e||null!=f||null!=h||null!=c||null!=i||null!=g?new u(e,f,h,c,i,g):null,this.movieEventHandlers[d]=b,d===this.rootMovie.instanceId&&(this.rootMovie.handler=b)),-1!==a.indexOf(".")&&(null==this.movieEventHandlersByFullName&&(this.movieEventHandlersByFullName=[]),null!=e||null!=f||null!=h||null!=c||null!=i||null!=g?this.movieEventHandlersByFullName[a]=new u(e,f,h,c,i,g):delete this.movieEventHandlersByFullName[a])},G.prototype.getButtonEventHandlers=function(a){var b;return null!=this.buttonEventHandlersByFullName&&(b=a.getFullName(),null!=b&&(b=this.buttonEventHandlersByFullName[b],null!=b))?b:this.buttonEventHandlers[a.instanceId]},G.prototype.setButtonEventHandler=function(a,b){var c,d,e,g,h,i,j,k,l,m,n;h=b.press,i=b.release,l=b.rollOver,k=b.rollOut,e=b.keyPress,g=b.load,m=b.unload,c=b.enterFrame,n=b.update,j=b.render,d=this.searchInstanceId(this.getStringId(a)),0<=d&&d<this.data.instanceNames.length&&(b=null!=g||null!=m||null!=c||null!=n||null!=j||null!=l||null!=k||null!=h||null!=i||null!=e?new f(g,m,c,n,j,l,k,h,i,e):null,this.buttonEventHandlers[d]=b),-1!==a.indexOf(".")&&(null==this.buttonEventHandlersByFullName&&(this.buttonEventHandlersByFullName=[]),null!=g||null!=m||null!=c||null!=n||null!=j||null!=l||null!=k||null!=h||null!=i||null!=e?this.buttonEventHandlersByFullName[a]=new f(g,m,c,n,j,l,k,h,i,e):delete this.buttonEventHandlersByFullName[a])},G.prototype.execMovieCommand=function(){var a,b,c,d,e,f,g,h,i;b=[],i=this.movieCommands;for(c in i){f=i[c],a=!0,d=this.rootMovie,g=0;for(h=c.length;g<h;g++)if(e=c[g],d=d.searchMovieInstance(e),null==d){a=!1;break}a&&(f(d),b.push(c))}a=0;for(d=b.length;a<d;a++)c=b[a],delete this.movieCommands[c]},G.prototype.setMovieCommand=function(a,b){var c;c=a.slice(0),this.movieCommands[c]=b,this.execMovieCommand()},G.prototype.searchAttachedMovie=function(a){return this.rootMovie.searchAttachedMovie(a)},G.prototype.searchAttachedLWF=function(a){return this.rootMovie.searchAttachedLWF(a)},G.prototype.addAllowButton=function(a){return a=this.searchInstanceId(this.getStringId(a)),0>a?!1:(null==this.allowButtonList&&(this.allowButtonList={}),this.allowButtonList[a]=!0)},G.prototype.removeAllowButton=function(a){return null==this.allowButtonList?!1:(a=this.searchInstanceId(this.getStringId(a)),0>a?!1:(delete this.allowButtonList[a],!0))},G.prototype.clearAllowButton=function(){this.allowButtonList=null},G.prototype.addDenyButton=function(a){return a=this.searchInstanceId(this.getStringId(a)),0>a?!1:(null==this.denyButtonList&&(this.denyButtonList={}),this.denyButtonList[a]=!0)},G.prototype.denyAllButtons=function(){var a,b,c;null==this.denyButtonList&&(this.denyButtonList={}),a=b=0;for(c=this.data.instanceNames.length;0>c?b>c:b<c;a=0>c?--b:++b)this.denyButtonList[a]=!0},G.prototype.removeDenyButton=function(a){return null==this.denyButtonList?!1:(a=this.searchInstanceId(this.getStringId(a)),0>a?!1:(delete this.denyButtonList[a],!0))},G.prototype.clearDenyButton=function(){this.denyButtonList=null},G.prototype.disableExec=function(){this.isExecDisabled=!0,this.executedForExecDisabled=!1},G.prototype.enableExec=function(){this.isExecDisabled=!1},G.prototype.setPropertyDirty=function(){this.propertyDirty=!0,null!=this.parent&&this.parent.lwf.setPropertyDirty()},G.prototype.getMovieFunctions=function(a){var b,c,d,e,f;return c=this.getMovieLinkageName(a),a=null!=(d=this.functions)?d[c+"_load"]:void 0,d=null!=(e=this.functions)?e[c+"_postLoad"]:void 0,e=null!=(b=this.functions)?b[c+"_unload"]:void 0,b=null!=(f=this.functions)?f[c+"_enterFrame"]:void 0,[a,d,e,b]},G.prototype.playAnimation=function(a,b,c){var d,e,f,g,h,i;e=0,a=this.data.animations[a];for(g=b;;)switch(d=a[e++],d){case M.END:return;case M.PLAY:g.play();break;case M.STOP:g.stop();break;case M.GOTONEXTFRAME:g.gotoNextFrame();break;case M.GOTOPREVFRAME:g.gotoPrevFrame();break;case M.GOTOFRAME:g.gotoFrameInternal(a[e++]);break;case M.GOTOLABEL:g.gotoFrame(this.searchFrame(g,a[e++]));break;case M.SETTARGET:g=b,d=a[e++];if(0!==d)for(h=0;0>d?h>d:h<d;0>d?--h:++h)switch(f=a[e++],f){case M.INSTANCE_TARGET_ROOT:g=this.rootMovie;break;case M.INSTANCE_TARGET_PARENT:g=g.parent,null==this.target&&(g=this.rootMovie);break;default:g=g.searchMovieInstanceByInstanceId(f,!1),null==g&&(g=b)}break;case M.EVENT:d=a[e++],null!=this.eventHandlers[d]&&this.eventHandlers[d](b,c);break;case M.CALL:d=a[e++],d=null!=(i=this.functions)?i[this.data.strings[d]]:void 0,null!=d&&d.call(b)}},G.prototype.inputPoint=function(a,b){var c,d;this.intercepted=!1;if(!this.interactive)return null;this.pointX=a,this.pointY=b,d=!1;for(c=this.buttonHead;null!=c;){if(c.checkHit(a,b)){if(null!=this.allowButtonList){if(null==this.allowButtonList[c.instanceId]){if(this.interceptByNotAllowOrDenyButtons){this.intercepted=!0;break}c=c.buttonLink;continue}}else if(null!=this.denyButtonList&&null!=this.denyButtonList[c.instanceId]){if(this.interceptByNotAllowOrDenyButtons){this.intercepted=!0;break}c=c.buttonLink;continue}d=!0,this.focus!==c&&(null!=this.focus&&this.focus.rollOut(),this.focus=c,this.focus.rollOver());break}c=c.buttonLink}return!d&&null!=this.focus&&(this.focus.rollOut(),this.focus=null),this.focus},G.prototype.inputPress=function(){this.interactive&&(this.pressing=!0,null!=this.focus&&this.focus.press())},G.prototype.inputRelease=function(){this.interactive&&(this.pressing=!1,null!=this.focus&&this.focus.release())},G.prototype.inputKeyPress=function(a){var b;if(this.interactive)for(b=this.buttonHead;null!=b;)b.keyPress(a),b=b.buttonLink},s=G,"undefined"!=typeof global&&(null==global.LWF&&(global.LWF={}),global.LWF.Color=D,global.LWF.ColorTransform=E,global.LWF.Format=F,global.LWF.LWF=s,global.LWF.Loader=Q,global.LWF.Matrix=C,global.LWF.Movie=t,global.LWF.Point=w,global.LWF.Property=ab),s.prototype.addAllowButton=s.prototype.addAllowButton,s.prototype.addDenyButton=s.prototype.addDenyButton,s.prototype.clearAllowButton=s.prototype.clearAllowButton,s.prototype.clearDenyButton=s.prototype.clearDenyButton,s.prototype.denyAllButtons=s.prototype.denyAllButtons,s.prototype.destroy=s.prototype.destroy,s.prototype.exec=s.prototype.exec,s.prototype.fitForHeight=s.prototype.fitForHeight,s.prototype.fitForWidth=s.prototype.fitForWidth,s.prototype.forceExec=s.prototype.forceExec,s.prototype.forceExecWithoutProgress=s.prototype.forceExecWithoutProgress,s.prototype.init=s.prototype.init,s.prototype.inputKeyPress=s.prototype.inputKeyPress,s.prototype.inputPoint=s.prototype.inputPoint,s.prototype.inputPress=s.prototype.inputPress,s.prototype.inputRelease=s.prototype.inputRelease,s.prototype.inspect=s.prototype.inspect,s.prototype.removeAllowButton=s.prototype.removeAllowButton,s.prototype.removeDenyButton=s.prototype.removeDenyButton,s.prototype.render=s.prototype.render,s.prototype.scaleForHeight=s.prototype.scaleForHeight,s.prototype.scaleForWidth=s.prototype.scaleForWidth,s.prototype.searchAttachedLWF=s.prototype.searchAttachedLWF,s.prototype.searchAttachedMovie=s.prototype.searchAttachedMovie,s.prototype.searchFrame=s.prototype.searchFrame,s.prototype.setButtonEventHandler=s.prototype.setButtonEventHandler,s.prototype.setEventHandler=s.prototype.setEventHandler,s.prototype.setFrameRate=s.prototype.setFrameRate,s.prototype.setMovieCommand=s.prototype.setMovieCommand,s.prototype.setMovieEventHandler=s.prototype.setMovieEventHandler,s.prototype.setProgramObjectConstructor=s.prototype.setProgramObjectConstructor,s.prototype.setRendererFactory=s.prototype.setRendererFactory,Q.load=Q.load,N.prototype.check=N.prototype.check,N.prototype.name=N.prototype.name,r.prototype.getFullName=r.prototype.getFullName,t.prototype.attachLWF=t.prototype.attachLWF,t.prototype.attachMovie=t.prototype.attachMovie,t.prototype.detachFromParent=t.prototype.detachFromParent,t.prototype.detachLWF=t.prototype.detachLWF,t.prototype.detachMovie=t.prototype.detachMovie,t.prototype.getAttachedLWF=t.prototype.getAttachedLWF,t.prototype.getAttachedMovie=t.prototype.getAttachedMovie,t.prototype.globalToLocal=t.prototype.globalToLocal,t.prototype.gotoAndPlay=t.prototype.gotoAndPlay,t.prototype.gotoAndStop=t.prototype.gotoAndStop,t.prototype.gotoFrame=t.prototype.gotoFrame,t.prototype.gotoLabel=t.prototype.gotoLabel,t.prototype.gotoNextFrame=t.prototype.gotoNextFrame,t.prototype.gotoPrevFrame=t.prototype.gotoPrevFrame,t.prototype.inspect=t.prototype.inspect,t.prototype.localToGlobal=t.prototype.localToGlobal,t.prototype.move=t.prototype.move,t.prototype.moveTo=t.prototype.moveTo,t.prototype.override=t.prototype.override,t.prototype.play=t.prototype.play,t.prototype.rotate=t.prototype.rotate,t.prototype.rotateTo=t.prototype.rotateTo,t.prototype.scale=t.prototype.scale,t.prototype.scaleTo=t.prototype.scaleTo,t.prototype.searchAttachedLWF=t.prototype.searchAttachedLWF,t.prototype.searchAttachedMovie=t.prototype.searchAttachedMovie,t.prototype.searchMovieInstance=t.prototype.searchMovieInstance,t.prototype.searchMovieInstanceByInstanceId=t.prototype.searchMovieInstanceByInstanceId,t.prototype.setAlpha=t.prototype.setAlpha,t.prototype.setColorTransform=t.prototype.setColorTransform,t.prototype.setMatrix=t.prototype.setMatrix,t.prototype.setRenderingOffset=t.prototype.setRenderingOffset,t.prototype.setVisible=t.prototype.setVisible,t.prototype.stop=t.prototype.stop,t.prototype.swapAttachedLWFDepth=t.prototype.swapAttachedLWFDepth,t.prototype.swapAttachedMovieDepth=t.prototype.swapAttachedMovieDepth,ab.prototype.clear=ab.prototype.clear,ab.prototype.move=ab.prototype.move,ab.prototype.moveTo=ab.prototype.moveTo,ab.prototype.rotate=ab.prototype.rotate,ab.prototype.rotateTo=ab.prototype.rotateTo,ab.prototype.scale=ab.prototype.scale,ab.prototype.scaleTo=ab.prototype.scaleTo,ab.prototype.setAlpha=ab.prototype.setAlpha,ab.prototype.setColorTransform=ab.prototype.setColorTransform,ab.prototype.setMatrix=ab.prototype.setMatrix,C.prototype.clear=C.prototype.clear,C.prototype.set=C.prototype.set,D.prototype.set=D.prototype.set,E.prototype.clear=E.prototype.clear,E.prototype.set=E.prototype.set;var db=function(a,b){this.factory=a,this.node=b,this.node.style.position="absolute",this.node.style.webkitTransformOrigin="0px 0px",this.node.style.display="block",this.factory.stage.parentNode.appendChild(this.node),this.matrix=new C(0,0,0,0,0,0),this.zIndex=this.alpha=-1,this.visible=!0};db.prototype.destruct=function(){this.factory.stage.parentNode.removeChild(this.node)},db.prototype.update=function(){},db.prototype.render=function(a,b,c,d,e){if(this.visible===e){if(!1===e)return}else{this.visible=e;if(!1===e){this.node.style.visibility="hidden";return}this.node.style.visibility="visible"}if(this.matrix.setWithComparing(a)||this.alpha!==b.multi.alpha||this.zIndex!==c)this.alpha=b.multi.alpha,this.zIndex=c,b=this.node.style,b.zIndex=this.zIndex,b.opacity=this.alpha,a=this.matrix,b.webkitTransform=this.use3D?"matrix3d("+(""+a.scaleX+","+a.skew1+",0,0,")+(""+a.skew0+","+a.scaleY+",0,0,")+"0,0,1,0,"+(""+a.translateX+","+a.translateY+",0,1)"):"matrix("+(""+a.scaleX+","+a.skew1+","+a.skew0+","+a.scaleY+",")+(""+a.translateX+","+a.translateY+")")};var eb=function(){this.cache={}},fb;fb=null,eb.get=function(){return null!=fb?fb:fb=new this},eb.prototype.clear=function(){return this.cache={}},eb.prototype.getTextureURL=function(a,b,c){var d,e,f;return b=null!=(d=null!=(e=a.imagePrefix)?e:a.prefix)?d:"",d=null!=(f=a.imageSuffix)?f:"",a=a.imageMap,c=c.filename,"function"==typeof a?(a=a(c),null!=a&&(c=a)):"object"==typeof a&&(a=a[c],null!=a&&(c=a)),c.match(/^\//)||(c=b+c),c=c.replace(/(\.png|\.jpg)$/i,d+"$1")},eb.prototype.checkTextures=function(a,b){var c,d,e,f,g,h,i,j;a._alphaMap={},a._rgbMap={},a._textures=[],i=b.textures,j=[],g=0;for(h=i.length;g<h;g++)(e=i[g],c=e.filename.match(/^(.*)_rgb_([0-9a-f]{6})(.*)$/i),null!=c)?(d=c[1]+c[3],c=c[2],null==(f=a._rgbMap)[d]&&(f[d]=[]),a._rgbMap[d].push({filename:e.filename,rgb:c})):(a._textures.push(e),d=this.getTextureURL(a,b,e),c=d.match(/^(.*)_withalpha(.*\.)jpg$/i),null!=c?(d=""+c[1]+"_alpha"+c[2]+"png",c=d.match(/\/([^\/]+)$/),c=null!=c?c[1]:d,c=new F.TextureReplacement(c),c.url=d,a._textures.push(c),a._alphaMap[e.filename]=[e,c],j.push(a._alphaMap[c.filename]=[e,c])):j.push(void 0));return j},eb.prototype.onloaddata=function(a,b,c){if(null!=b&&b.check())return this.checkTextures(a,b),c=a.lwf,this.cache[c]={},this.cache[c].__data__=b,a.total=a._textures.length+1,b.useScript&&a.total++,a.loadedCount=1,null!=a.onprogress&&a.onprogress.call(a,a.loadedCount,a.total),b.useScript?this.loadJS(a,b):this.loadImages(a,b);a.error.push({url:c,reason:"dataError"}),a.onload.call(a,null)},eb.prototype.loadLWF=function(a){var b,c,d;c=b=a.lwf,c.match(/^\//)||(c=(null!=(d=a.prefix)?d:"")+c),a.error=[];if(null!=this.cache[b]&&(b=this.cache[b].__data__,null!=b)){this.checkTextures(a,b),a.total=a._textures.length+1,a.loadedCount=1,"undefined"!=typeof onprogress&&null!==onprogress&&onprogress.call(a,a.loadedCount,a.total),this.loadImages(a,b);return}return this.loadLWFData(a,c)},eb.prototype.loadLWFData=function(a,b){var c,d,e,f,g,h=this;c=a.onload,f=e=!1,"undefined"!=typeof Worker&&(null==a.worker||a.worker)&&(e=!0,"undefined"!=typeof Worker.prototype.webkitPostMessage&&(f=!0)),g=new XMLHttpRequest,g.open("GET",b,!0),"string"==typeof g.responseType&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Int32Array&&"undefined"!=typeof Float32Array&&(!e||f)?(d=!0,g.responseType="arraybuffer"):(d=!1,g.overrideMimeType("text/plain; charset=x-user-defined")),g.onabort=function(){return a.error.push({url:b,reason:"abort"}),g=g.onabort=g.onerror=g.onreadystatechange=null,c.call(a,null)},g.onerror=function(){return a.error.push({url:b,reason:"error"}),g=g.onabort=g.onerror=g.onreadystatechange=null,c.call(a,null)},g.onreadystatechange=function(){var c,i,j,k,l,m;if(4===g.readyState&&(0===(j=g.status)||200===j)){if(e){c=null,k=document.getElementsByTagName("script"),j=/(^|.*\/lwf_cocos2d.js)$/i,i=l=0;for(m=k.length;0>m?l>m:l<m;i=0>m?--l:++l)if(""!==k[i].src&&(i=k[i].src.match(j),null!=i)){c=i[1];break}if(null!=c){var n=c;j=new Worker(n),j.onmessage=function(c){return c=new N(c.data),h.onloaddata(a,c,b)},j.onerror=function(){return a.error.push({url:n,reason:"error"}),a.onload.call(a,null)},f?j.webkitPostMessage(g.response):j.postMessage(g.response)}}return null==c&&(c=d?Q.loadArrayBuffer(g.response):Q.load(g.responseText),h.onloaddata(a,c,b)),g=g.onabort=g.onerror=g.onreadystatechange=null}},g.send(null)},eb.prototype.loadJS=function(a,b){var c,d,e,f,g,h,i,j=this;c=a.lwf,g=null!=(h=a.js)?h:c.replace(/\.lwf$/i,".js"),g.match(/^\//)||(g=(null!=(i=a.prefix)?i:"")+g),d=a.onload,e=a.onprogress,f=document.createElement("script"),f.type="text/javascript",f.onabort=function(){return delete j.cache[c],a.error.push({url:g,reason:"abort"}),f=f.onload=f.onabort=f.onerror=null,d.call(a,null)},f.onerror=function(){return delete j.cache[c],a.error.push({url:g,reason:"error"}),f=f.onload=f.onabort=f.onerror=null,d.call(a,null)},f.onload=function(){return a.loadedCount++,null!=e&&e.call(a,a.loadedCount,a.total),f=f.onload=f.onabort=f.onerror=null,j.loadImages(a,b)},f.src=g,document.getElementsByTagName("head")[0].appendChild(f)},eb.prototype.loadImagesCallback=function(a,b,c){a.loadedCount++,null!=a.onprogress&&a.onprogress.call(a,a.loadedCount,a.total);if(a.loadedCount===a.total)return delete a._alphaMap,delete a._rgbMap,delete a._textures,0<a.error.length?(delete this.cache[a.lwf],onload.call(a,null)):this.newLWF(a,b,c)},eb.prototype.generateImages=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;e=a._rgbMap[c.filename];if(null!=e){m=[],k=0;for(l=e.length;k<l;k++){i=e[k],this.constructor===eb?(f="canvas_"+i.filename.replace(/[\.-]/g,"_"),c=document.getCSSCanvasContext("2d",f,d.width,d.height),a=c.canvas,a.name=f):(a=document.createElement("canvas"),a.width=d.width,a.height=d.height,c=a.getContext("2d")),c.fillStyle="#"+i.rgb,c.fillRect(0,0,d.width,d.height),c.globalCompositeOperation="destination-in",c.drawImage(d,0,0,d.width,d.height),g=c.getImageData(0,0,d.width,d.height),j=g.data,f=3;for(h=j.length;f<h;)f+=4,0<j[f]&&(j[f]=255);c.putImageData(g,0,0),m.push(b[i.filename]=a)}return m}},eb.prototype.loadImages=function(a,b){var c,d,e,f,g,h,i,j=this;c={};if(0===b.textures.length)this.newLWF(a,c,b);else{i=a._textures,f=function(d,e){var f;return f=new Image,f.onabort=function(){return a.error.push({url:e,reason:"abort"}),f=f.onload=f.onabort=f.onerror=null,j.loadImagesCallback(a,c,b)},f.onerror=function(){return a.error.push({url:e,reason:"error"}),f=f.onload=f.onabort=f.onerror=null,j.loadImagesCallback(a,c,b)},f.onload=function(){var e,g,h,i,k,l,m;return c[d.filename]=f,e=a._alphaMap[d.filename],null!=e?(k=e[0],e=e[1],l=c[k.filename],g=c[e.filename],null!=l&&null!=g&&(j.constructor===eb?(m="canvas_"+k.filename.replace(/[\.-]/,"_"),i=document.getCSSCanvasContext("2d",m,l.width,l.height),h=i.canvas,h.name=m):(h=document.createElement("canvas"),h.width=l.width,h.height=l.height,i=h.getContext("2d")),i.drawImage(l,0,0,l.width,l.height),i.globalCompositeOperation="destination-in",i.drawImage(g,0,0,l.width,l.height),delete c[k.filename],delete c[e.filename],c[k.filename]=h,j.generateImages(a,c,k,h))):j.generateImages(a,c,d,f),f=f.onload=f.onabort=f.onerror=null,j.loadImagesCallback(a,c,b)},f.src=e},g=0;for(h=i.length;g<h;g++)d=i[g],e=null!=d.url?d.url:this.getTextureURL(a,b,d),f(d,e)}},eb.prototype.newFactory=function(a,b,c){var d;return new WebkitCSSRendererFactory(c,this,b,a.stage,null!=(d=a.textInSubpixel)?d:!1,!0)},eb.prototype.onloadLWF=function(a,b){var c;c=b.rendererFactory,a.useBackgroundColor&&c.setBackgroundColor(b),a.fitForHeight?c.fitForHeight(b):a.fitForWidth&&c.fitForWidth(b),a.onload.call(a,b)},eb.prototype.newLWF=function(a,b,c){var d,e,f,g;d=this.cache[a.lwf],null==d.__instances__&&(d.__instances__=0),d.__instances__++,b=this.newFactory(a,b,c),c.useScript&&(e=null!=(f=global.LWF)?null!=(g=f.Script)?g[c.name()]:void 0:void 0),c=new s(c,b,e,a.privateData),c.url=a.lwf,this.onloadLWF(a,c)},eb.prototype.unloadLWF=function(a){null!=this.cache[a.url]&&0>=--this.cache[a.url].__instances__&&delete this.cache[a.url]},eb.prototype.loadLWFs=function(a,b){var c,d,e,f,g,h,i,j,k;d=a.length,e=0,c=null,h=function(a){return g.onload=function(f){null!=a&&a(f),0<g.error.length&&(null==c&&(c=[]),c.apply(g.error)),++e;if(d===e)return b(c)}},k=[],i=0;for(j=a.length;i<j;i++)g=a[i],f=g.onload,h(f),k.push(this.loadLWF(g));return k},eb.prototype.getCache=function(){return this.cache},eb.prototype.setParticleConstructor=function(a){return this.particleConstructor=a},eb.prototype.setDOMElementConstructor=function(a){return this.domElementConstructor=a},"undefined"!=typeof self&&null!==self&&(self.onmessage=function(a){return"undefined"!=typeof self.webkitPostMessage?(a=(new P).load(a.data),self.webkitPostMessage(a)):(a=(new O).load(a.data),self.postMessage(a))});var gb=function(a,b,c,d){var e,f;this.resourceCache=b,this.cache=c,this.textInSubpixel=d,this.bitmapContexts=[],f=a.bitmaps,d=0;for(e=f.length;d<e;d++)c=f[d],-1!==c.textureFragmentId&&(b=new F.BitmapEx,b.matrixId=c.matrixId,b.textureFragmentId=c.textureFragmentId,b.u=0,b.v=0,b.w=1,b.h=1,this.bitmapContexts.push(new h(this,a,b)));this.bitmapExContexts=[],e=a.bitmapExs,c=0;for(d=e.length;c<d;c++)b=e[c],-1!==b.textureFragmentId&&this.bitmapExContexts.push(new h(this,a,b));this.textContexts=[],e=a.texts,c=0;for(d=e.length;c<d;c++)b=e[c],this.textContexts.push(new m(this,a,b));this.particleContexts=[],e=a.particles,c=0;for(d=e.length;c<d;c++)b=e[c],this.particleContexts.push(new j(this,a,b));this.lwfNode=null};gb.prototype.destruct=function(){var a,b,c,d;d=this.bitmapContexts,b=0;for(c=d.length;b<c;b++)a=d[b],a.destruct();d=this.bitmapExContexts,b=0;for(c=d.length;b<c;b++)a=d[b],a.destruct();d=this.textContexts,b=0;for(c=d.length;b<c;b++)a=d[b],a.destruct()},gb.prototype.init=function(a){var b,c,d,e,f,g,h=this;if(!this.setupedDomElementConstructor){this.setupedDomElementConstructor=!0,f=a.data.programObjects,g=[],d=0;for(e=f.length;d<e;d++)b=f[d],c=a.data.strings[b.stringId],b=c.match(/^DOM_(.*)/),null!=b?(b=b[1],g.push(function(b){return a.setProgramObjectConstructor(c,function(a,c,d,e){return c=h.resourceCache.domElementConstructor,null==c?null:(a=c(a,b,d,e),null==a?null:new db(h,a))})}(b))):g.push(void 0);return g}},gb.prototype.beginRender=function(){},gb.prototype.endRender=function(){},gb.prototype.constructBitmap=function(a,b){var c;if(c=this.bitmapContexts[b])return new i(c)},gb.prototype.constructBitmapEx=function(a,b){var c;if(c=this.bitmapExContexts[b])return new i(c)},gb.prototype.constructText=function(a,b,c){if(b=this.textContexts[b])return new n(a,b,c)},gb.prototype.constructParticle=function(a,b){var c;if(c=this.particleContexts[b])return new k(c)},gb.prototype.convertColor=function(a,b,c){R.calcColor(a,b,c),a.red=Math.round(255*a.red),a.green=Math.round(255*a.green),a.blue=Math.round(255*a.blue),a.alpha=Math.round(255*a.alpha)},gb.prototype.getSize=function(){var a,b;return null!=this.lwfNode&&(a=this.lwfNode.getContentSize(),b=a.width,a=a.height),0===b&&0===a&&(a="undefined"!=typeof cc.Director.getInstance().winSizeInPixels?cc.Director.getInstance().winSizeInPixels():cc.Director.getInstance().getWinSizeInPixels(),b=a.width,a=a.height),[b,a]},gb.prototype.fitForHeight=function(a){var b,c;b=this.getSize(),c=b[0],b=b[1],0!==b&&b!==a.data.header.height&&a.fitForHeight(c,b)},gb.prototype.fitForWidth=function(a){var b,c;b=this.getSize(),c=b[0],b=b[1],0!==c&&c!==a.data.header.width&&a.fitForWidth(c,b)},gb.prototype.scaleForHeight=function(a){var b,c;b=this.getSize(),c=b[0],b=b[1],0!==b&&b!==a.data.header.height&&a.scaleForHeight(c,b)},gb.prototype.scaleForWidth=function(a){var b,c;b=this.getSize(),c=b[0],b=b[1],0!==c&&c!==a.data.header.width&&a.scaleForWidth(c,b)},gb.prototype.setBackgroundColor=function(){},r=function(a,b,c){this.factory=a,this.data=b,this.fragment=b.textureFragments[c.textureFragmentId],b=b.textures[this.fragment.textureId],a=this.factory.cache[b.filename],this.texture2d=cc.TextureCache.getInstance().textureForKey(a),a="undefined"!=typeof this.texture2d.getPixelsWide?this.texture2d.getPixelsWide()/b.width:this.texture2d.width/b.width,this.scale=1/(b.scale*a),this.fragment.rotated?(c=this.fragment.h,b=this.fragment.w):(c=this.fragment.w,b=this.fragment.h),this.imageHeight=this.fragment.h*a,this.rect=cc.rect(this.fragment.u,this.fragment.v,c,b)},r.prototype.destruct=function(){},h=r,r=function(a){this.context=a,a=this.context.fragment,this.matrix=new C(0,0,0,0,0,0);if(a.rotated||0!==a.x||0!==a.y||1!==this.context.scale)this.matrixForAtlas=new C;this.bitmap=cc.LWFBitmap.lwfBitmapWithTexture(this.context.texture2d,this.context.rect),this.visible=!0,this.alpha=1,this.z=-1},r.prototype.destruct=function(){return this.bitmap.removeFromParentAndCleanup(!0)},r.prototype.render=function(a,b,c,d,e){var f,g;this.z!==c&&(-1===this.z?this.context.factory.lwfNode.addChild(this.bitmap,c):this.bitmap.getParent().reorderChild(this.bitmap,c),this.z=c);if(this.matrix.setWithComparing(a)){a=this.matrix,c=this.context.fragment,f=c.x,g=c.y,d=this.context.scale;if(c.rotated)a=R.rotateMatrix(this.matrixForAtlas,a,d,f,g+c.h);else if(1!==d||0!==f||0!==g)a=R.scaleMatrix(this.matrixForAtlas,a,d,f,g);this.bitmap.setMatrix(a)}if(this.alpha!==b.multi.alpha||this.visible!==e)return this.alpha=b.multi.alpha,this.visible=e,this.bitmap.setOpacity(this.visible?255*this.alpha:0)},i=r,a=F.TextProperty.Align,r=function(a,b,c){this.factory=a,this.data=b,this.text=c,this.str=this.data.strings[this.text.stringId],this.textProperty=this.data.textProperties[this.text.textPropertyId],a=this.data.fonts[this.textProperty.fontId],this.textColor=this.data.colors[this.text.colorId],this.name=this.data.strings[this.text.nameStringId],this.fontName='"'+this.data.strings[a.stringId]+'",sans-serif'},r.prototype.destruct=function(){},m=r,r=function(b,c,d){var e;this.lwf=b,this.context=c,this.textObject=d,this.str=null!=(e=this.textObject.parent[this.context.name])?e:this.context.str,null!=this.str&&(this.str=this.str+""),this.matrix=new C(0,0,0,0,0,0),this.matrixForScale=new C,this.color=new D,this.color3B=cc.c3b();switch(this.context.textProperty.align&a.ALIGN_MASK){case a.RIGHT:b=cc.TEXT_ALIGNMENT_RIGHT;break;case a.CENTER:b=cc.TEXT_ALIGNMENT_CENTER;break;default:b=cc.TEXT_ALIGNMENT_LEFT}switch(this.context.textProperty.align&a.VERTICAL_MASK){case a.VERTICAL_BOTTOM:d=cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM;break;case a.VERTICAL_MIDDLE:d=cc.VERTICAL_TEXT_ALIGNMENT_CENTER;break;default:d=cc.VERTICAL_TEXT_ALIGNMENT_TOP}c=this.lwf.scaleByStage,this.label=cc.LWFLabel.create("",this.context.fontName,this.context.textProperty.fontHeight*c,cc.size(this.context.text.width*c,this.context.text.height*c),b,d),this.z=-1,this.textRendered=!1},r.prototype.destruct=function(){this.label.removeFromParentAndCleanup(!0)},r.prototype.render=function(a,b,c,d,e){var f,g;if(e){this.z!==c&&(-1===this.z?this.context.factory.lwfNode.addChild(this.label,c):this.label.getParent().reorderChild(this.label,c),this.z=c),g=this.color.red,f=this.color.green,e=this.color.blue,this.context.factory.convertColor(this.color,this.context.textColor,b),b=this.color3B,b.r=this.color.red,b.g=this.color.green,b.b=this.color.blue,d=this.color.alpha,c=!1;if(g!==this.color.red||f!==this.color.green||e!==this.color.blue||d!==this.color.alpha)this.label.setOpacity(d),c=!0;e=!1,d=this.textObject.parent[this.context.name],null!=d&&(d=d+""),null!=d&&d!==this.str&&(e=!0,this.str=d),(!this.textRendered||c||e)&&this.renderText(b),this.matrix.setWithComparing(a)&&(a=R.scaleMatrix(this.matrixForScale,this.matrix,1/this.lwf.scaleByStage,0,0),this.context.factory.textInSubpixel||(a.translateX=Math.round(a.translateX),a.translateY=Math.round(a.translateY)),this.label.setMatrix(a))}else this.label.setOpacity(0)},r.prototype.renderText=function(a){this.textRendered=!0,this.label.setColor(a),this.label.setString(this.str)},n=r,r=function(a,b,c){this.factory=a,this.data=b,this.name=b.strings[b.particleDatas[c.particleDataId].stringId],this.plist=this.factory.resourceCache.particlePrefix+this.name+this.factory.resourceCache.particleSuffix},r.prototype.destruct=function(){},j=r,r=function(a){this.context=a,this.matrix=new C,this.particle=cc.LWFParticle.create(this.context.plist),this.visible=!0,this.alpha=1,this.z=-1},r.prototype.destruct=function(){return this.particle.removeFromParentAndCleanup(!0)},r.prototype.update=function(){},r.prototype.render=function(a,b,c,d,e){this.z!==c&&(-1===this.z?this.context.factory.lwfNode.addChild(this.particle,c):this.particle.getParent().reorderChild(this.particle,c),this.z=c),this.matrix.setWithComparing(a)&&this.particle.setMatrix(this.matrix);if(this.alpha!==b.multi.alpha||this.visible!==e)return this.alpha=b.multi.alpha,this.visible=e,this.particle.setOpacity(this.visible?255*this.alpha:0)},k=r;var hb=function(){hb.__super__.constructor.apply(this,arguments),this.particlePrefix="res/",this.particleSuffix=".plist"};l(hb,eb),hb.prototype.loadLWFNode=function(a){a._loadLWF=!0,this.loadLWF(a)},hb.prototype.loadLWFNodes=function(a,b){var c,d,e;d=0;for(e=a.length;d<e;d++)c=a[d],c._loadLWF=!0;this.loadLWFs(a,b)},hb.prototype.newFactory=function(a,b,c){var d;return new gb(c,this,b,null!=(d=a.textInSubpixel)?d:!1)},hb.prototype.loadLWFData=function(a,b){var c;return"undefined"==typeof XMLHttpRequest?(c=cc.loadFileIntoMemory(cc.FileUtils.sharedFileUtils().fullPathFromRelativePath(b)),c=Q.loadArrayBuffer(c),this.onloaddata(a,c,b)):hb.__super__.loadLWFData.apply(this,arguments)},hb.prototype.onloadLWF=function(a,b){var c,d;null!=a._loadLWF?(d=cc.LWFNode.lwfNodeWithLWF(b),c=a.contentSize,null!=c&&d.setContentSize(c),c=b.rendererFactory,a.fitForHeight?c.fitForHeight(b):a.fitForWidth&&c.fitForWidth(b),delete a._loadLWF,a.onload.call(a,d)):a.onload.call(a,b)},hb.prototype.clear=function(){var a,b,c,d,e;e=this.cache;for(b in e)for(c in a=e[b],a)d=a[c],d.match(/\.(png|jpg)$/)&&cc.TextureCache.getInstance().removeTextureForKey(d);return hb.__super__.clear.apply(this,arguments)},hb.prototype.onLoadImage=function(){var a,b,c;this.loadedCount++,null!=this.onprogress&&this.onprogress.call(this,this.loadedCount,this.total),this.loadedCount===this.total&&(a=this._cache,b=this._data,c=this._imageCache,delete this._cache,delete this._data,delete this._imageCache,a.newLWF(this,c,b))},hb.prototype.loadImages=function(a,b){var c,d,e,f,g,h,i,j,k,l;e=null!=(f=null!=(h=a.imagePrefix)?h:a.prefix)?f:"",f=null!=(c=a.imageSuffix)?c:"",c={},a._cache=this,a._data=b,a._imageCache=c,j=b.textures,h=0;for(i=j.length;h<i;h++)g=j[h],d=g.filename,g=null!=(k=null!=(l=a.imageMap)?l[d]:void 0)?k:d,g.match(/^\//)||(g=e+g),g=g.replace(/(\.png|\.jpg)$/i,f+"$1"),c[d]=g,d=cc.TextureCache.getInstance(),"undefined"!=typeof d.addImageAsync?d.addImageAsync(g,a,this.onLoadImage):(d.addImage(g),this.onLoadImage.call(a))},hb.prototype.unloadLWF=function(a){var b,c;b=this.cache[a.url],hb.__super__.unloadLWF.call(this,a);if(null==this.cache[a.url])for(c in b)a=b[c],a.match(/\.(png|jpg)$/)&&cc.TextureCache.getInstance().removeTextureForKey(a)},hb.prototype.setParticlePath=function(a,b){this.particlePrefix=a,this.particleSuffix=b},l=hb,"undefined"!=typeof global&&(global.LWF.Cocos2dRendererFactory=gb,global.LWF.Cocos2dResourceCache=l,global.LWF.ResourceCache=l,"undefined"!=typeof cc&&(cc.LWF=global.LWF)),gb.prototype.convertColor=gb.prototype.convertColor,gb.prototype.fitForHeight=gb.prototype.fitForHeight,gb.prototype.fitForWidth=gb.prototype.fitForWidth,gb.prototype.scaleForHeight=gb.prototype.scaleForWidth,gb.prototype.scaleForStage=gb.prototype.scaleForWidth,gb.prototype.setBackgroundColor=gb.prototype.setBackgroundColor,l.prototype.clear=l.prototype.clear,l.prototype.getCache=l.prototype
.getCache,l.prototype.loadLWF=l.prototype.loadLWF,l.prototype.loadLWFs=l.prototype.loadLWFs,l.prototype.unloadLWF=l.prototype.unloadLWF,l.prototype.setParticleConstructor=l.prototype.setParticleConstructor,l.prototype.setDOMElementConstructor=l.prototype.setDOMElementConstructor,"undefined"!=typeof cc&&null!==cc&&(cc.LWFBitmap=cc.Sprite.extend({_m_lwf_matrix:null,ctor:function(){return cc.associateWithNative(this,cc.Sprite)},initWithTexture:function(a,b){var c;return c=this._super(a,b),this.setAnchorPoint(cc.p(0,1)),c},setMatrix:function(a){"undefined"!=typeof this._super?this._super({a:a.scaleX,b:a.skew1,c:a.skew0,d:a.scaleY,tx:a.translateX,ty:a.translateY}):this._m_lwf_matrix=a},transform:function(a){var b;a=null!=a?a:cc.renderContext,b=this._m_lwf_matrix,a.transform(b.scaleX,b.skew1,b.skew0,b.scaleY,b.translateX,b.translateY-cc.canvas.height)}}),cc.LWFBitmap.lwfBitmapWithTexture=function(a,b){var c;return c=new cc.LWFBitmap,c.initWithTexture(a,b)?c:null},cc.LWFLabel=cc.LabelTTF.extend({_m_lwf_matrix:null,ctor:function(){return cc.associateWithNative(this,cc.LabelTTF)},initWithString:function(a){return a="undefined"!=typeof this._super?this._super(a):this.initWithStringFontNameFontSize(a[0],a[1],a[2]),this.setAnchorPoint(cc.p(0,1)),a},setMatrix:function(a){"undefined"!=typeof this._super?this._super({a:a.scaleX,b:a.skew1,c:a.skew0,d:a.scaleY,tx:a.translateX,ty:a.translateY}):this._m_lwf_matrix=a},transform:function(a){var b;a=null!=a?a:cc.renderContext,b=this._m_lwf_matrix,a.transform(b.scaleX,b.skew1,b.skew0,b.scaleY,b.translateX,b.translateY-cc.canvas.height)}}),cc.LWFLabel.create=function(){var a;return a=new cc.LWFLabel,a.initWithString(arguments)?a:null},cc.LWFParticle=cc.ParticleSystem.extend({_m_lwf_matrix:null,ctor:function(){return cc.associateWithNative(this,cc.ParticleSystem)},setMatrix:function(a){"undefined"!=typeof this._super?this._super({a:a.scaleX,b:a.skew1,c:a.skew0,d:a.scaleY,tx:a.translateX,ty:a.translateY}):this._m_lwf_matrix=a},transform:function(a){var b;a=null!=a?a:cc.renderContext,b=this._m_lwf_matrix,a.transform(b.scaleX,b.skew1,b.skew0,b.scaleY,b.translateX,b.translateY-cc.canvas.height)}}),cc.LWFParticle.create=function(a){var b;return b=new cc.LWFParticle,b.initWithFile(a)?b:null},cc.LWFNode=cc.Node.extend({_m_lwf:null,_m_targetedDelegateAdded:!1,ctor:function(){return cc.associateWithNative(this,cc.Node)},initWithLWF:function(a){return"undefined"!=typeof this.init&&this.init(),a.rendererFactory.lwfNode=this,this._m_lwf=a,this.scheduleUpdate(),!0},cleanup:function(){this._super(),this._m_lwf.destroy()},getLWF:function(){return this._m_lwf},update:function(a){this._super(a),this._m_lwf.exec(a),this._m_lwf.render()},onEnter:function(){var a;return this._m_lwf.interactive&&(a=cc.Director.getInstance(),"undefined"!=typeof a.getTouchDispatcher&&(a.getTouchDispatcher().addTargetedDelegate(this,0,!0),this._m_targetedDelegateAdded=!0)),this._super()},onExit:function(){return this._m_targetedDelegateAdded&&cc.Director.getInstance().getTouchDispatcher().removeDelegate(this),this._super()},onTouchBegan:function(a,b){return this.onTouchMoved(a,b),this._m_lwf.inputPress(),!0},onTouchMoved:function(a){a=this.convertTouchToNodeSpace(a),a=cc.Director.getInstance().convertToGL(a),this._m_lwf.inputPoint(a.x,a.y)},onTouchEnded:function(a,b){this.onTouchMoved(a,b),this._m_lwf.inputRelease()}}),cc.LWFNode.lwfNodeWithLWF=function(a){var b;return b=new cc.LWFNode,b.initWithLWF(a)?b:null})}.call(this),function(){var a={Tween:function(b){this.lwf=b.lwf,this.object=b,this.valuesStart={},this.valuesEnd={},this.duration=1,this.delayTime=0,this.startTime=null,this.easingFunction=a.Easing.Linear.None,this.interpolationFunction=a.Interpolation.Linear,this.onCompleteCallback=this.onUpdateCallback=this.chainedTween=null,"undefined"==typeof this.lwf._tweens&&(this.lwf._tweens=[],this.lwf.getTweens=function(){return this.tweens},this.lwf.stopTweens=function(){this.tweens=[]},this.lwf.setMovieEventHandler("_root",{enterFrame:function(){for(var a=0,b=this.lwf._tweens.length,c=this.lwf.time;a<b;)this.lwf._tweens[a].update(c)?a++:(this.lwf._tweens.splice(a,1),b--)}})),this.to=function(a,b){return null!==b&&(this.duration=b*this.lwf.tick),this.valuesEnd=a,this},this.start=function(){this.lwf._tweens.push(this),this.startTime=this.lwf.time,this.startTime+=this.delayTime;for(var a in this.valuesEnd)if(null!==this.object[a]){if(this.valuesEnd[a]instanceof Array){if(0===this.valuesEnd[a].length)continue;this.valuesEnd[a]=[this.object[a]].concat(this.valuesEnd[a])}this.valuesStart[a]=this.object[a]}return this},this.stop=function(){var a=this.lwf._tweens.indexOf(this);return-1!==a&&this.lwf._tweens.splice(a,1),this},this.delay=function(a){return this.delayTime=a*this.lwf.tick,this},this.easing=function(a){return this.easingFunction=a,this},this.interpolation=function(a){return this.interpolationFunction=a,this},this.chain=function(b){return"undefined"!=typeof b&&null!==b?(this.chainedTween=b,this):this.chainedTween=b=new a.Tween(this.object)},this.onUpdate=function(a){return this.onUpdateCallback=a,this},this.onComplete=function(a){return this.onCompleteCallback=a,this},this.update=function(a){if(a<this.startTime)return!0;a=(a-this.startTime)/this.duration,a=1<a?1:a;var b=this.easingFunction(a),c;for(c in this.valuesStart){var d=this.valuesStart[c],e=this.valuesEnd[c];this.object[c]=e instanceof Array?this.interpolationFunction(e,b):d+(e-d)*b}return null!==this.onUpdateCallback&&this.onUpdateCallback.call(this.object,b),1==a?(null!==this.onCompleteCallback&&this.onCompleteCallback.call(this.object),null!==this.chainedTween&&this.chainedTween.start(),!1):!0},this.to=this.to,this.start=this.start,this.stop=this.stop,this.delay=this.delay,this.easing=this.easing,this.interpolation=this.interpolation,this.chain=this.chain,this.onUpdate=this.onUpdate,this.onComplete=this.onComplete,this.update=this.update},Easing:{Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return 1>(a*=2)?.5*a*a:-0.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return--a*a*a*a*a+1},InOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return 0===a?0:Math.pow(1024,a-1)},Out:function(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/.4)))},Out:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/.4)+1)},InOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),1>(a*=2)?-0.5*c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/.4):.5*c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/.4)+1)}},Back:{In:function(a){return a*a*(2.70158*a-1.70158)},Out:function(a){return--a*a*(2.70158*a+1.70158)+1},InOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},Bounce:{In:function(b){return 1-a.Easing.Bounce.Out(1-b)},Out:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},InOut:function(b){return.5>b?.5*a.Easing.Bounce.In(2*b):.5*a.Easing.Bounce.Out(2*b-1)+.5}}}},b=[1];a.Interpolation={Linear:function(b,c){var d=b.length-1,e=d*c,f=Math.floor(e),g=a.Interpolation.Utils.Linear;return 0>c?g(b[0],b[1],e):1<c?g(b[d],b[d-1],d-e):g(b[f],b[f+1>d?d:f+1],e-f)},Bezier:function(b,c){var d=0,e=b.length-1,f=Math.pow,g=a.Interpolation.Utils.Bernstein,h;for(h=0;h<=e;h++)d+=f(1-c,e-h)*f(c,h)*b[h]*g(e,h);return d},CatmullRom:function(b,c){var d=b.length-1,e=d*c,f=Math.floor(e),g=a.Interpolation.Utils.CatmullRom;return b[0]===b[d]?(0>c&&(f=Math.floor(e=d*(1+c))),g(b[(f-1+d)%d],b[f],b[(f+1)%d],b[(f+2)%d],e-f)):0>c?b[0]-(g(b[0],b[0],b[1],b[1],-e)-b[0]):1<c?b[d]-(g(b[d],b[d],b[d-1],b[d-1],e-d)-b[d]):g(b[f?f-1:0],b[f],b[d<f+1?d:f+1],b[d<f+2?d:f+2],e-f)},Utils:{Linear:function(a,b,c){return(b-a)*c+a},Bernstein:function(b,c){var d=a.Interpolation.Utils.Factorial;return d(b)/d(c)/d(b-c)},Factorial:function(a){var c=1,d;if(b[a])return b[a];for(d=a;1<d;d--)c*=d;return b[a]=c},CatmullRom:function(a,b,c,d,e){a=.5*(c-a),d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}}};if("undefined"!=typeof global&&null!==global){global.LWF.Movie.prototype.addTween=function(){return new a.Tween(this)},global.LWF.Movie.prototype.stopTweens=function(){if("undefined"==typeof this.lwf||null===this.lwf||"undefined"==typeof this.lwf._tweens||null===this.lwf._tweens)return this;for(var a=this.lwf._tweens,b=0,c=a.length;b<c;)a[b]._object==this?(a.splice(b,1),c--):b++;return this},global.LWF.Tween=a.Tween,global.LWF.Tween.Easing=a.Easing;var c=global.LWF.Tween.Easing;c.Linear=a.Easing.Linear,c.Linear.None=a.Easing.Linear.None,c.Quadratic=a.Easing.Quadratic,c.Quadratic.In=a.Easing.Quadratic.In,c.Quadratic.Out=a.Easing.Quadratic.Out,c.Quadratic.InOut=a.Easing.Quadratic.InOut,c.Cubic=a.Easing.Cubic,c.Cubic.In=a.Easing.Cubic.In,c.Cubic.Out=a.Easing.Cubic.Out,c.Cubic.InOut=a.Easing.Cubic.InOut,c.Quartic=a.Easing.Quartic,c.Quartic.In=a.Easing.Quartic.In,c.Quartic.Out=a.Easing.Quartic.Out,c.Quartic.InOut=a.Easing.Quartic.InOut,c.Quintic=a.Easing.Quintic,c.Quintic.In=a.Easing.Quintic.In,c.Quintic.Out=a.Easing.Quintic.Out,c.Quintic.InOut=a.Easing.Quintic.InOut,c.Sinusoidal=a.Easing.Sinusoidal,c.Sinusoidal.In=a.Easing.Sinusoidal.In,c.Sinusoidal.Out=a.Easing.Sinusoidal.Out,c.Sinusoidal.InOut=a.Easing.Sinusoidal.InOut,c.Exponential=a.Easing.Exponential,c.Exponential.In=a.Easing.Exponential.In,c.Exponential.Out=a.Easing.Exponential.Out,c.Exponential.InOut=a.Easing.Exponential.InOut,c.Circular=a.Easing.Circular,c.Circular.In=a.Easing.Circular.In,c.Circular.Out=a.Easing.Circular.Out,c.Circular.InOut=a.Easing.Circular.InOut,c.Elastic=a.Easing.Elastic,c.Elastic.In=a.Easing.Elastic.In,c.Elastic.Out=a.Easing.Elastic.Out,c.Elastic.InOut=a.Easing.Elastic.InOut,c.Back=a.Easing.Back,c.Back.In=a.Easing.Back.In,c.Back.Out=a.Easing.Back.Out,c.Back.InOut=a.Easing.Back.InOut,c.Bounce=a.Easing.Bounce,c.Bounce.In=a.Easing.Bounce.In,c.Bounce.Out=a.Easing.Bounce.Out,c.Bounce.InOut=a.Easing.Bounce.InOut,global.LWF.Tween.Interpolation=a.Interpolation,c=global.LWF.Tween.Interpolation,c.Linear=a.Interpolation.Linear,c.Bezier=a.Interpolation.Bezier,c.CatmullRom=a.Interpolation.CatmullRom,c.Utils=a.Interpolation.Utils,c.Utils.Linear=a.Interpolation.Utils.Linear,c.Utils.Bernstein=a.Interpolation.Utils.Bernstein,c.Utils.Factorial=a.Interpolation.Utils.Factorial,c.Utils.CatmullRom=a.Interpolation.Utils.CatmullRom}}.call(this);